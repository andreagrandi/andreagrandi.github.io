<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>Andrea Grandi - admin</title>
        <link rel="stylesheet" href="https://www.andreagrandi.it/theme/css/main.css" />
        <link rel="stylesheet" href="https://www.andreagrandi.it/theme/tipuesearch/css/tipuesearch.css">
        <link href="https://www.andreagrandi.it/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Andrea Grandi RSS Feed" />

        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://www.andreagrandi.it/">Andrea Grandi </a></h1>
                <nav><ul>
    
                        <li><a href="https://www.andreagrandi.it/about/">About</a></li>
    
                        <li><a href="https://www.andreagrandi.it/curriculum/">Curriculum</a></li>
    
                        <li><a href="https://www.andreagrandi.it/pgp-key/">PGP Key</a></li>
                </ul>
<form id="search" action="https://www.andreagrandi.it/search.html" onsubmit="return validateForm(this.elements['q'].value);">
                        <input type="text" class="search-query" placeholder="" name="q" id="tipue_search_input">
                    </form>
                </nav>
        </header><!-- /#banner -->

                <section id="content" class="body">
                    <ol id="posts-list" class="hfeed" start="3">
            <li><article class="hentry">
                <header>
                    <h1><a href="https://www.andreagrandi.it/2015/02/20/moving-away-from-google-talk-to-a-real-jabberxmpp-service/" rel="bookmark"
                           title="Permalink to Moving away from Google Talk to a real Jabber/XMPP service">Moving away from Google Talk to a real Jabber/XMPP service</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <span>Fri 20 February 2015</span>
	        <span>| in <a href="https://www.andreagrandi.it/category/howto-linux.html">HowTo, Linux</a></span>
<span>| tags: <a href="https://www.andreagrandi.it/tag/chat.html">chat</a><a href="https://www.andreagrandi.it/tag/google.html">Google</a><a href="https://www.andreagrandi.it/tag/gtalk.html">gtalk</a><a href="https://www.andreagrandi.it/tag/im.html">im</a><a href="https://www.andreagrandi.it/tag/jabber.html">jabber</a><a href="https://www.andreagrandi.it/tag/xmpp.html">xmpp</a></span>
</footer><!-- /.post-info -->                <p>I've been recently concerned about <a href="https://plus.google.com/+MayurKamat/posts/ETBvtp9VYav">the
future</a> of
<strong>Google Talk</strong> service and all the implications related to recent
changes to the existing service. What has been a nice implementation of
the <a href="http://en.wikipedia.org/wiki/XMPP">Jabber/XMPP</a> protocol once, now
is just a <a href="https://www.eff.org/deeplinks/2013/05/google-abandons-open-standards-instant-messaging">closed and
proprietary</a>
service. The main problem with these changes are:</p>
<ul>
<li>Jabber/XMPP users of other services won't be able to talk anymore to
    Google Talk users</li>
<li>Google is killing some of their native clients (like the Windows
    one) and forcing users to Chrome or Android/iOS versions</li>
<li>Google has disabled the possibility to turn off chat recording (you
    can still do it individually, for each contact)</li>
</ul>
<p>So, what are the alternatives to Google Talk? Luckly you have at least
three options.</p>
<h2>Using an existing Jabber/XMPP service</h2>
<p>This is surely the easiest way to get a Jabber/XMPP account. There is a
list of free services available
here: <a href="https://xmpp.net/directory.php">https://xmpp.net/directory.php</a> registering a new account is
usually very easy. Most of the clients have an option that let you
register the account while you are configuring it. For example if you
are using <a href="https://www.pidgin.im"><strong>Pidgin</strong></a> and you want to register
an account with
<a href="https://duck.co/blog/using-pidgin-with-xmpp-jabber">DukGo</a> service, you
can configure it in this way:</p>
<p><a href="http://www.andreagrandi.it/wp-content/uploads/2015/02/2_addaccount.png"><img alt="2_addaccount" src="http://www.andreagrandi.it/wp-content/uploads/2015/02/2_addaccount.png">{.aligncenter
.size-full .wp-image-928 width="348"
height="531"}</a></p>
<h2>Using an hosted Jabber/XMPP service with your domain</h2>
<p>A service called <a href="http://hosted.im"><strong>HostedIM</strong></a> offer a very nice
service. Basically if you already have a domain, you can register an
account on <a href="http://hosted.im">hosted.im</a>, setup your <strong>DNS</strong> following
their instructions and create an account directly on their dashboard.
You can create up to <strong>5 accounts for free</strong>. If you need more, they
offer a paid service for that. In my case all I had to do was updating
my DNS with the following configuration:</p>
<div class="highlight"><pre><span></span><span class="n">_xmpp</span><span class="o">-</span><span class="n">client</span><span class="p">.</span><span class="n">_tcp</span><span class="p">.</span><span class="n">andreagrandi</span><span class="p">.</span><span class="n">it</span><span class="p">.</span> <span class="k">IN</span> <span class="n">SRV</span> <span class="mi">10</span> <span class="mi">0</span> <span class="mi">5222</span> <span class="n">xmpp1</span><span class="p">.</span><span class="n">hosted</span><span class="p">.</span><span class="n">im</span><span class="p">.</span>
<span class="n">_xmpp</span><span class="o">-</span><span class="n">client</span><span class="p">.</span><span class="n">_tcp</span><span class="p">.</span><span class="n">andreagrandi</span><span class="p">.</span><span class="n">it</span><span class="p">.</span> <span class="k">IN</span> <span class="n">SRV</span> <span class="mi">20</span> <span class="mi">0</span> <span class="mi">5222</span> <span class="n">xmpp2</span><span class="p">.</span><span class="n">hosted</span><span class="p">.</span><span class="n">im</span><span class="p">.</span>
<span class="n">_xmpp</span><span class="o">-</span><span class="n">server</span><span class="p">.</span><span class="n">_tcp</span><span class="p">.</span><span class="n">andreagrandi</span><span class="p">.</span><span class="n">it</span><span class="p">.</span> <span class="k">IN</span> <span class="n">SRV</span> <span class="mi">20</span> <span class="mi">0</span> <span class="mi">5269</span> <span class="n">xmpp2</span><span class="p">.</span><span class="n">hosted</span><span class="p">.</span><span class="n">im</span><span class="p">.</span>
<span class="n">_xmpp</span><span class="o">-</span><span class="n">server</span><span class="p">.</span><span class="n">_tcp</span><span class="p">.</span><span class="n">andreagrandi</span><span class="p">.</span><span class="n">it</span><span class="p">.</span> <span class="k">IN</span> <span class="n">SRV</span> <span class="mi">10</span> <span class="mi">0</span> <span class="mi">5269</span> <span class="n">xmpp1</span><span class="p">.</span><span class="n">hosted</span><span class="p">.</span><span class="n">im</span><span class="p">.</span>
<span class="n">_jabber</span><span class="p">.</span><span class="n">_tcp</span><span class="p">.</span><span class="n">andreagrandi</span><span class="p">.</span><span class="n">it</span><span class="p">.</span> <span class="k">IN</span> <span class="n">SRV</span> <span class="mi">20</span> <span class="mi">0</span> <span class="mi">5269</span> <span class="n">xmpp2</span><span class="p">.</span><span class="n">hosted</span><span class="p">.</span><span class="n">im</span><span class="p">.</span>
<span class="n">_jabber</span><span class="p">.</span><span class="n">_tcp</span><span class="p">.</span><span class="n">andreagrandi</span><span class="p">.</span><span class="n">it</span><span class="p">.</span> <span class="k">IN</span> <span class="n">SRV</span> <span class="mi">10</span> <span class="mi">0</span> <span class="mi">5269</span> <span class="n">xmpp1</span><span class="p">.</span><span class="n">hosted</span><span class="p">.</span><span class="n">im</span><span class="p">.</span>
</pre></div>


<h2>Hosting your own Jabber/XMPP service</h2>
<p>If you have a VPS and some syasdmin skills, why not hosting your own
XMPP server? There are different options available, but I can suggest
you three in particular:</p>
<ul>
<li><a href="http://www.igniterealtime.org/projects/openfire/">OpenFire</a></li>
<li><a href="https://www.ejabberd.im/">ejabberd</a></li>
<li><a href="http://prosody.im/">Prosody</a></li>
</ul>
<p>I haven't tried any of these personally, because for the moment I'm
using the service offered by hosted.im. I'm curious anyway to configure
at least one of them and when I will do it I will publish a dedicated
tutorial about it.</p>
<h2>Conclusion</h2>
<p>Given the recent changes that Google is doing to all their services, I'm
more than happy when I can abandon one of them, because I personally
don't like to rely (and bind myself) to a single company, expecially if
that company closes a service whenever they want and try to lock you
inside their ecosystem.</p>
                <a class="readmore" href="https://www.andreagrandi.it/2015/02/20/moving-away-from-google-talk-to-a-real-jabberxmpp-service/">read more</a>
<p><a href="https://www.andreagrandi.it/2015/02/20/moving-away-from-google-talk-to-a-real-jabberxmpp-service/#disqus_thread">comments</a></p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://www.andreagrandi.it/2014/09/12/create-an-encfs-volume-compatible-with-boxcryptor-classic/" rel="bookmark"
                           title="Permalink to Create an EncFS volume compatible with BoxCryptor Classic">Create an EncFS volume compatible with BoxCryptor Classic</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <span>Fri 12 September 2014</span>
	        <span>| in <a href="https://www.andreagrandi.it/category/howto-linux-sicurezza.html">HowTo, Linux, Sicurezza</a></span>
<span>| tags: <a href="https://www.andreagrandi.it/tag/boxcryptor.html">boxcryptor</a><a href="https://www.andreagrandi.it/tag/dropbox.html">dropbox</a><a href="https://www.andreagrandi.it/tag/encfs.html">encfs</a></span>
</footer><!-- /.post-info -->                <p>If you are planning to share an encrypted volume between Linux/OSX and
Windows (I will assume you are sharing it on Dropbox, but you could use
any similar service) and you are using
<a href="http://www.arg0.net/encfs"><strong>EncFS</strong></a> under Linux/OSX and
<a href="https://www.boxcryptor.com"><strong>BoxCryptor</strong></a> under Windows, there are
some specifig settings to use when you create the EncFS volume. Infact
even if BoxCryptor claims to be "encfs compatible", it's not 100%.</p>
<p>Suppose you want to create an encrypted volume located at
<strong>\$HOME/.TestTmpEncrypted</strong> and mounted at <strong>\$HOME/TestTmp</strong> you need
the following command:</p>
<div class="highlight"><pre><span></span><span class="n">andrea</span><span class="o">-</span><span class="n">Inspiron</span><span class="o">-</span><span class="mi">660</span><span class="p">:</span><span class="o">~</span> <span class="n">andrea</span> <span class="err">$</span> <span class="n">encfs</span> <span class="o">~/</span><span class="p">.</span><span class="n">TestTmpEncrypted</span> <span class="o">~/</span><span class="n">TestTmp</span>
</pre></div>


<p>answer "Y" when you are asked if you want to create the folders:</p>
<div class="highlight"><pre><span></span><span class="n">The</span> <span class="n">directory</span> <span class="ss">&quot;/home/andrea/.TestTmpEncrypted/&quot;</span> <span class="n">does</span> <span class="k">not</span> <span class="n">exist</span><span class="p">.</span> <span class="n">Should</span> <span class="n">it</span> <span class="n">be</span> <span class="n">created</span><span class="o">?</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="n">n</span><span class="p">)</span> <span class="n">y</span>
<span class="n">The</span> <span class="n">directory</span> <span class="ss">&quot;/home/andrea/TestTmp&quot;</span> <span class="n">does</span> <span class="k">not</span> <span class="n">exist</span><span class="p">.</span> <span class="n">Should</span> <span class="n">it</span> <span class="n">be</span> <span class="n">created</span><span class="o">?</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="n">n</span><span class="p">)</span> <span class="n">y</span>
</pre></div>


<p>At this point you will need to select between default paranoia mode or
advanced mode. Please choose the <strong>advanced</strong> one (x):</p>
<div class="highlight"><pre><span></span><span class="nv">Creating</span> <span class="nv">new</span> <span class="nv">encrypted</span> <span class="nv">volume</span>.
<span class="nv">Please</span> <span class="nv">choose</span> <span class="nv">from</span> <span class="nv">one</span> <span class="nv">of</span> <span class="nv">the</span> <span class="nv">following</span> <span class="nv">options</span>:
 <span class="nv">enter</span> <span class="s2">&quot;</span><span class="s">x</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="nv">expert</span> <span class="nv">configuration</span> <span class="nv">mode</span>,
 <span class="nv">enter</span> <span class="s2">&quot;</span><span class="s">p</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="nv">pre</span><span class="o">-</span><span class="nv">configured</span> <span class="nv">paranoia</span> <span class="nv">mode</span>,
 <span class="nv">anything</span> <span class="k">else</span>, <span class="nv">or</span> <span class="nv">an</span> <span class="nv">empty</span> <span class="nv">line</span> <span class="nv">will</span> <span class="nv">select</span> <span class="nv">standard</span> <span class="nv">mode</span>.
?<span class="o">&gt;</span> <span class="nv">x</span>
</pre></div>


<p>Manual configuration mode selected.</p>
<div class="highlight"><pre><span></span><span class="k">Select</span> <span class="n">AES</span> <span class="k">as</span> <span class="n">cypher</span> <span class="n">algorithm</span><span class="p">:</span>

<span class="n">The</span> <span class="n">following</span> <span class="n">cypher</span> <span class="n">algorithms</span> <span class="k">are</span> <span class="n">available</span><span class="p">:</span>
<span class="mi">1</span><span class="p">.</span> <span class="n">AES</span> <span class="p">:</span> <span class="mi">16</span> <span class="n">byte</span> <span class="n">block</span> <span class="n">cipher</span>
<span class="c1">-- Supports key lengths of 128 to 256 bits</span>
<span class="c1">-- Supports block sizes of 64 to 4096 bytes</span>
<span class="mi">2</span><span class="p">.</span> <span class="n">Blowfish</span> <span class="p">:</span> <span class="mi">8</span> <span class="n">byte</span> <span class="n">block</span> <span class="n">cypher</span>
<span class="c1">-- Supports key lengths of 128 to 256 bits</span>
<span class="c1">-- Supports block sizes of 64 to 4096 bytes</span>

<span class="n">Enter</span> <span class="n">the</span> <span class="nb">number</span> <span class="n">corresponding</span> <span class="k">to</span> <span class="n">your</span> <span class="n">choice</span><span class="p">:</span> <span class="mi">1</span>

<span class="n">Selected</span> <span class="n">algorithm</span> <span class="ss">&quot;AES&quot;</span>
</pre></div>


<p>Select <strong>256</strong> as key size:</p>
<div class="highlight"><pre><span></span><span class="nv">Please</span> <span class="nv">select</span> <span class="nv">a</span> <span class="nv">key</span> <span class="nv">size</span> <span class="nv">in</span> <span class="nv">bits</span>. <span class="nv">The</span> <span class="nv">cypher</span> <span class="nv">you</span> <span class="nv">have</span> <span class="nv">chosen</span>
<span class="nv">supports</span> <span class="nv">sizes</span> <span class="nv">from</span> <span class="mi">128</span> <span class="nv">to</span> <span class="mi">256</span> <span class="nv">bits</span> <span class="nv">in</span> <span class="nv">increments</span> <span class="nv">of</span> <span class="mi">64</span> <span class="nv">bits</span>.
<span class="k">For</span> <span class="nv">example</span>:
<span class="mi">128</span>, <span class="mi">192</span>, <span class="mi">256</span>
<span class="nv">Selected</span> <span class="nv">key</span> <span class="nv">size</span>: <span class="mi">256</span>

<span class="nv">Using</span> <span class="nv">key</span> <span class="nv">size</span> <span class="nv">of</span> <span class="mi">256</span> <span class="nv">bits</span>
</pre></div>


<p>Choose <strong>1024</strong> as block size:</p>
<div class="highlight"><pre><span></span><span class="nv">Select</span> <span class="nv">a</span> <span class="nv">block</span> <span class="nv">size</span> <span class="nv">in</span> <span class="nv">bytes</span>. <span class="nv">The</span> <span class="nv">cypher</span> <span class="nv">you</span> <span class="nv">have</span> <span class="nv">chosen</span>
<span class="nv">supports</span> <span class="nv">sizes</span> <span class="nv">from</span> <span class="mi">64</span> <span class="nv">to</span> <span class="mi">4096</span> <span class="nv">bytes</span> <span class="nv">in</span> <span class="nv">increments</span> <span class="nv">of</span> <span class="mi">16</span>.
<span class="nv">Alternatively</span>, <span class="nv">just</span> <span class="nv">press</span> <span class="nv">enter</span> <span class="k">for</span> <span class="nv">the</span> <span class="nv">default</span> <span class="ss">(</span><span class="mi">1024</span> <span class="nv">bytes</span><span class="ss">)</span>

<span class="nv">filesystem</span> <span class="nv">block</span> <span class="nv">size</span>:

<span class="nv">Using</span> <span class="nv">filesystem</span> <span class="nv">block</span> <span class="nv">size</span> <span class="nv">of</span> <span class="mi">1024</span> <span class="nv">bytes</span>
</pre></div>


<p>Select <strong>Stream</strong> as filename encoding:</p>
<div class="highlight"><pre><span></span><span class="n">The</span> <span class="n">following</span> <span class="n">filename</span> <span class="k">encoding</span> <span class="n">algorithms</span> <span class="k">are</span> <span class="n">available</span><span class="p">:</span>
<span class="mi">1</span><span class="p">.</span> <span class="n">Block</span> <span class="p">:</span> <span class="n">Block</span> <span class="k">encoding</span><span class="p">,</span> <span class="n">hides</span> <span class="n">file</span> <span class="n">name</span> <span class="k">size</span> <span class="n">somewhat</span>
<span class="mi">2</span><span class="p">.</span> <span class="k">Null</span> <span class="p">:</span> <span class="k">No</span> <span class="n">encryption</span> <span class="k">of</span> <span class="n">filenames</span>
<span class="mi">3</span><span class="p">.</span> <span class="n">Stream</span> <span class="p">:</span> <span class="n">Stream</span> <span class="k">encoding</span><span class="p">,</span> <span class="n">keeps</span> <span class="n">filenames</span> <span class="k">as</span> <span class="n">short</span> <span class="k">as</span> <span class="n">possible</span>

<span class="n">Enter</span> <span class="n">the</span> <span class="nb">number</span> <span class="n">corresponding</span> <span class="k">to</span> <span class="n">your</span> <span class="n">choice</span><span class="p">:</span> <span class="mi">3</span>

<span class="n">Selected</span> <span class="n">algorithm</span> <span class="ss">&quot;Stream&quot;</span><span class="err">&quot;</span>
</pre></div>


<p>Do <strong>NOT</strong> enable <strong>filename initialization vector chaining</strong>:</p>
<div class="highlight"><pre><span></span><span class="nv">Enable</span> <span class="nv">filename</span> <span class="nv">initialization</span> <span class="nv">vector</span> <span class="nv">chaining</span>?
<span class="nv">This</span> <span class="nv">makes</span> <span class="nv">filename</span> <span class="nv">encoding</span> <span class="nv">dependent</span> <span class="nv">on</span> <span class="nv">the</span> <span class="nv">complete</span> <span class="nv">path</span>,
<span class="nv">rather</span> <span class="k">then</span> <span class="nv">encoding</span> <span class="nv">each</span> <span class="nv">path</span> <span class="nv">element</span> <span class="nv">individually</span>.
<span class="nv">The</span> <span class="nv">default</span> <span class="nv">here</span> <span class="nv">is</span> <span class="nv">Yes</span>.
<span class="nv">Any</span> <span class="nv">response</span> <span class="nv">that</span> <span class="nv">does</span> <span class="nv">not</span> <span class="nv">begin</span> <span class="nv">with</span> <span class="s1">&#39;</span><span class="s">n</span><span class="s1">&#39;</span> <span class="nv">will</span> <span class="nv">mean</span> <span class="nv">Yes</span>: <span class="nv">no</span>
</pre></div>


<p>Do <strong>NOT</strong> enable <strong>per-file initialization vectors</strong>:</p>
<div class="highlight"><pre><span></span><span class="nv">Enable</span> <span class="nv">per</span><span class="o">-</span><span class="nv">file</span> <span class="nv">initialization</span> <span class="nv">vectors</span>?
<span class="nv">This</span> <span class="nv">adds</span> <span class="nv">about</span> <span class="mi">8</span> <span class="nv">bytes</span> <span class="nv">per</span> <span class="nv">file</span> <span class="nv">to</span> <span class="nv">the</span> <span class="nv">storage</span> <span class="nv">requirements</span>.
<span class="nv">It</span> <span class="nv">should</span> <span class="nv">not</span> <span class="nv">affect</span> <span class="nv">performance</span> <span class="nv">except</span> <span class="nv">possibly</span> <span class="nv">with</span> <span class="nv">applications</span>
<span class="nv">which</span> <span class="nv">rely</span> <span class="nv">on</span> <span class="nv">block</span><span class="o">-</span><span class="nv">aligned</span> <span class="nv">file</span> <span class="nv">io</span> <span class="k">for</span> <span class="nv">performance</span>.
<span class="nv">The</span> <span class="nv">default</span> <span class="nv">here</span> <span class="nv">is</span> <span class="nv">Yes</span>.
<span class="nv">Any</span> <span class="nv">response</span> <span class="nv">that</span> <span class="nv">does</span> <span class="nv">not</span> <span class="nv">begin</span> <span class="nv">with</span> <span class="s1">&#39;</span><span class="s">n</span><span class="s1">&#39;</span> <span class="nv">will</span> <span class="nv">mean</span> <span class="nv">Yes</span>: <span class="nv">no</span>
</pre></div>


<p>Do <strong>NOT</strong> enable <strong>external chained IV</strong>:</p>
<div class="highlight"><pre><span></span><span class="nv">External</span> <span class="nv">chained</span> <span class="nv">IV</span> <span class="nv">disabled</span>, <span class="nv">as</span> <span class="nv">both</span> <span class="s1">&#39;</span><span class="s">IV chaining</span><span class="s1">&#39;</span>
<span class="nv">and</span> <span class="s1">&#39;</span><span class="s">unique IV</span><span class="s1">&#39;</span> <span class="nv">features</span> <span class="nv">are</span> <span class="nv">required</span> <span class="k">for</span> <span class="nv">this</span> <span class="nv">option</span>.
<span class="nv">Enable</span> <span class="nv">block</span> <span class="nv">authentication</span> <span class="nv">code</span> <span class="nv">headers</span>
<span class="nv">on</span> <span class="nv">every</span> <span class="nv">block</span> <span class="nv">in</span> <span class="nv">a</span> <span class="nv">file</span>? <span class="nv">This</span> <span class="nv">adds</span> <span class="nv">about</span> <span class="mi">12</span> <span class="nv">bytes</span> <span class="nv">per</span> <span class="nv">block</span>
<span class="nv">to</span> <span class="nv">the</span> <span class="nv">storage</span> <span class="nv">requirements</span> <span class="k">for</span> <span class="nv">a</span> <span class="nv">file</span>, <span class="nv">and</span> <span class="nv">significantly</span> <span class="nv">affects</span>
<span class="nv">performance</span> <span class="nv">but</span> <span class="nv">it</span> <span class="nv">also</span> <span class="nv">means</span> [<span class="nv">almost</span>] <span class="nv">any</span> <span class="nv">modifications</span> <span class="nv">or</span> <span class="nv">errors</span>
<span class="nv">within</span> <span class="nv">a</span> <span class="nv">block</span> <span class="nv">will</span> <span class="nv">be</span> <span class="nv">caught</span> <span class="nv">and</span> <span class="nv">will</span> <span class="nv">cause</span> <span class="nv">a</span> <span class="nv">read</span> <span class="nv">error</span>.
<span class="nv">The</span> <span class="nv">default</span> <span class="nv">here</span> <span class="nv">is</span> <span class="nv">No</span>.
<span class="nv">Any</span> <span class="nv">response</span> <span class="nv">that</span> <span class="nv">does</span> <span class="nv">not</span> <span class="nv">begin</span> <span class="nv">with</span> <span class="s1">&#39;</span><span class="s">y</span><span class="s1">&#39;</span> <span class="nv">will</span> <span class="nv">mean</span> <span class="nv">No</span>: <span class="nv">no</span>
</pre></div>


<p>Do <strong>NOT</strong> enable <strong>random bytes to each block header</strong>:</p>
<div class="highlight"><pre><span></span><span class="nv">Add</span> <span class="k">random</span> <span class="nv">bytes</span> <span class="nv">to</span> <span class="nv">each</span> <span class="nv">block</span> <span class="nv">header</span>?
<span class="nv">This</span> <span class="nv">adds</span> <span class="nv">a</span> <span class="nv">performance</span> <span class="nv">penalty</span>, <span class="nv">but</span> <span class="nv">ensures</span> <span class="nv">that</span> <span class="nv">blocks</span>
<span class="nv">have</span> <span class="nv">different</span> <span class="nv">authentication</span> <span class="nv">codes</span>. <span class="nv">Note</span> <span class="nv">that</span> <span class="nv">you</span> <span class="nv">can</span>
<span class="nv">have</span> <span class="nv">the</span> <span class="nv">same</span> <span class="nv">benefits</span> <span class="nv">by</span> <span class="nv">enabling</span> <span class="nv">per</span><span class="o">-</span><span class="nv">file</span> <span class="nv">initialisation</span>
<span class="nv">vectors</span>, <span class="nv">which</span> <span class="nv">does</span> <span class="nv">not</span> <span class="nv">come</span> <span class="nv">with</span> <span class="nv">as</span> <span class="nv">great</span> <span class="nv">a</span> <span class="nv">performance</span>
<span class="nv">penalty</span>.
<span class="nv">Select</span> <span class="nv">a</span> <span class="nv">number</span> <span class="nv">of</span> <span class="nv">bytes</span>, <span class="nv">from</span> <span class="mi">0</span> <span class="ss">(</span><span class="nv">no</span> <span class="k">random</span> <span class="nv">bytes</span><span class="ss">)</span> <span class="nv">to</span> <span class="mi">8</span>: <span class="mi">0</span>
</pre></div>


<p>Enable <strong>file-hole pass-through</strong>:</p>
<div class="highlight"><pre><span></span><span class="n">Enable</span> <span class="n">file</span><span class="o">-</span><span class="n">hole</span> <span class="n">pass</span><span class="o">-</span><span class="n">through</span><span class="o">?</span>
<span class="n">This</span> <span class="n">avoids</span> <span class="n">writing</span> <span class="k">encrypted</span> <span class="n">blocks</span> <span class="k">when</span> <span class="n">file</span> <span class="n">holes</span> <span class="k">are</span> <span class="n">created</span><span class="p">.</span>
<span class="n">The</span> <span class="k">default</span> <span class="n">here</span> <span class="k">is</span> <span class="n">Yes</span><span class="p">.</span>
<span class="k">Any</span> <span class="n">response</span> <span class="n">that</span> <span class="n">does</span> <span class="k">not</span> <span class="k">begin</span> <span class="k">with</span> <span class="s1">&#39;n&#39;</span> <span class="n">will</span> <span class="n">mean</span> <span class="n">Yes</span><span class="p">:</span> <span class="n">yes</span>
</pre></div>


<p>Finally you will see:</p>
<div class="highlight"><pre><span></span><span class="n">Configuration</span> <span class="n">finished</span><span class="p">.</span> <span class="n">The</span> <span class="n">filesystem</span> <span class="k">to</span> <span class="n">be</span> <span class="n">created</span> <span class="n">has</span>
<span class="n">the</span> <span class="n">following</span> <span class="n">properties</span><span class="p">:</span>
<span class="n">Filesystem</span> <span class="n">cypher</span><span class="p">:</span> <span class="ss">&quot;ssl/aes&quot;</span><span class="p">,</span> <span class="k">version</span> <span class="mi">3</span><span class="p">:</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span>
<span class="n">Filename</span> <span class="k">encoding</span><span class="p">:</span> <span class="ss">&quot;nameio/stream&quot;</span><span class="p">,</span> <span class="k">version</span> <span class="mi">2</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span>
<span class="k">Key</span> <span class="k">Size</span><span class="p">:</span> <span class="mi">256</span> <span class="n">bits</span>
<span class="n">Block</span> <span class="k">Size</span><span class="p">:</span> <span class="mi">1024</span> <span class="n">bytes</span>
<span class="n">File</span> <span class="n">holes</span> <span class="n">passed</span> <span class="n">through</span> <span class="k">to</span> <span class="n">ciphertext</span><span class="p">.</span>
</pre></div>


<p>At this point set a passphrase for your new volume:</p>
<div class="highlight"><pre><span></span><span class="nv">Now</span> <span class="nv">you</span> <span class="nv">will</span> <span class="nv">need</span> <span class="nv">to</span> <span class="nv">enter</span> <span class="nv">a</span> <span class="nv">password</span> <span class="k">for</span> <span class="nv">your</span> <span class="nv">filesystem</span>.
<span class="nv">You</span> <span class="nv">will</span> <span class="nv">need</span> <span class="nv">to</span> <span class="nv">remember</span> <span class="nv">this</span> <span class="nv">password</span>, <span class="nv">as</span> <span class="nv">there</span> <span class="nv">is</span> <span class="nv">absolutely</span>
<span class="nv">no</span> <span class="nv">recovery</span> <span class="nv">mechanism</span>. <span class="nv">However</span>, <span class="nv">the</span> <span class="nv">password</span> <span class="nv">can</span> <span class="nv">be</span> <span class="nv">changed</span>
<span class="nv">later</span> <span class="nv">using</span> <span class="nv">encfsctl</span>.

<span class="nv">New</span> <span class="nv">Encfs</span> <span class="nv">Password</span>:
<span class="nv">Verify</span> <span class="nv">Encfs</span> <span class="nv">Password</span>:
</pre></div>


<p>You should be able to mount this volume using BoxCryptor.</p>
                <a class="readmore" href="https://www.andreagrandi.it/2014/09/12/create-an-encfs-volume-compatible-with-boxcryptor-classic/">read more</a>
<p><a href="https://www.andreagrandi.it/2014/09/12/create-an-encfs-volume-compatible-with-boxcryptor-classic/#disqus_thread">comments</a></p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://www.andreagrandi.it/2014/03/02/travis-ci-org-and-coveralls-io-qa-made-easy/" rel="bookmark"
                           title="Permalink to Travis-ci.org and Coveralls.io: Continuous Integration and QA made easy">Travis-ci.org and Coveralls.io: Continuous Integration and QA made easy</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <span>Sun 02 March 2014</span>
	        <span>| in <a href="https://www.andreagrandi.it/category/linux-programmazione-python.html">Linux, Programmazione, Python</a></span>

</footer><!-- /.post-info -->                <p>Developing a large web application or before deploying some code is very
important to verify the quality of the code itself, check if we have
introduced any regression or bug and have something that tell us if we
are increasing or decreasing the quality of the code.</p>
<p>Suppose we are in an organization or a company where the basic rule is:
<strong>master</strong> branch is always ready/stable to be deployed. In a team
usually people work on personal branches, then when the code is stable
it's merged with master.</p>
<p>How do we check if the code is stable and ready to be merged? First of
all we need to cover all our code with <strong>proper tests</strong> (I won't go in
details about unit testing here, I assume that the reader knows what I'm
talking about), then we need to actually run them, possibly in an
isolated environment that is similar to the production one, and check if
they all pass. If they do, we are quite safe to merge our code with
master branch.</p>
<p>How can we ensure that all the developers remember to run tests when
they push some new code? To make things a bit more real, let's take the
example of a Python/Django product (or even a library) that currently
supports <strong>Python 2.6, 2.7, 3.3</strong> and <strong>Django 1.4.x, 1.5.x, 1.6.x</strong>.
The whole matrix consists of <strong>9 possible combinations</strong>. Do we have to
manually run tests on 9 configurations? No, we don't.</p>
<h2>Travis-ci.org</h2>
<p><strong>Travis</strong> is a continuous integration tool that, once configured, takes
care of these tasks and let us save lot of time (that we can use to
actually write code). <a href="https://travis-ci.org">Travis-ci.org</a> is an
online service that works with <a href="https://github.com"><strong>GitHub</strong></a> (it
requires we use GitHub as repository for our code), and once we have
connected the two accounts and configured a very simple file in our
projects, it's automatically triggered when we push on our GitHub
repository.</p>
<p>The configuration consists of adding a file named <strong>.travis.yml</strong> in the
root of our project. A working example is available here
<a href="https://github.com/andreagrandi/workshopvenues/blob/master/.travis.yml">https://github.com/andreagrandi/workshopvenues/blob/master/.travis.yml</a>
(all the env variables I set are not required normally, but that's where
I save the values of my configuration, so they need to be initialized
before I can run tests).</p>
<p>The service supports most of the languages that are commonly used and
even a good number of PAAS, making it very easy to automatically
<strong>deploy</strong> our code. If it should not be enough for your needs, they
also expose a public <strong>API</strong>. I suggest you to give a look at the
official documentation that will explain everything in details
<a href="http://docs.travis-ci.com">http://docs.travis-ci.com</a></p>
<p>Once everything is configured, we will have something like this on our
console
<a href="https://travis-ci.org/andreagrandi/workshopvenues/jobs/19882128">https://travis-ci.org/andreagrandi/workshopvenues/jobs/19882128</a></p>
<p><a href="http://www.andreagrandi.it/wp-content/uploads/2014/03/travis-ci-console.png"><img alt="travis-ci-console" src="http://www.andreagrandi.it/wp-content/uploads/2014/03/travis-ci-console-1024x544.png">{.aligncenter
.wp-image-832 width="614"
height="326"}</a></p>
<p>If something goes wrong (if tests don't pass for example) we receive a
notification with all the informations about the failing build, and if
we had configured an automatic deployment of course the code would not
be deployed in case of a failing build.</p>
<p>Travis-ci.org is <strong>completly free</strong> for opensource projects and has also
a paid version for private repositories.</p>
<h2 id="coveralls.io" style="text-align: left;">Coveralls.io</h2>
<p>There is a nice tool available for Python called
<a href="http://nedbatchelder.com/code/coverage"><strong>coverage</strong></a>. Basically it
runs tests and checks the percentage of the source code that is covered
by tests, producing a nice report that shows us the percentage for every
single file/module and even the lines of code that have been tested.</p>
<p>Thanks to Coveralls.io and the use of Travis, even these tasks are
completly automatized and the results are available online like in this
example <a href="https://coveralls.io/builds/560853">https://coveralls.io/builds/560853</a></p>
<p>The configuration is quite easy. We need to connect our Coveralls.io
profile with GitHub, like we did for Travis-ci.org and then enable the
repository. To trigger Coveralls after a successful Travis build, we
need to have these lines at the end of our <strong>.travis.yml</strong> file</p>
<div class="highlight"><pre><span></span><span class="n">after_success</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">coveralls</span>
</pre></div>


<p><a href="http://www.andreagrandi.it/wp-content/uploads/2014/03/coveralls-console.png"><img alt="coveralls-console" src="http://www.andreagrandi.it/wp-content/uploads/2014/03/coveralls-console-1024x767.png">{.aligncenter
.wp-image-836 width="614"
height="460"}</a><br>
Even Coveralls.io is <strong>completly free</strong> for opensource projects and
offers a paid version for private repositories.</p>
<h2>Heroku</h2>
<p>I use <a href="https://www.heroku.com"><strong>Heroku</strong></a> to host and run my web
application. Normally to deploy on Heroku you so something like this:
<strong>git push heroku master</strong></p>
<p>Adding these settings to the <strong>.travis.yaml</strong> file, I can automatically
deploy the application on Heroku, if the build was successful:</p>
<div class="highlight"><pre><span></span><span class="n">deploy</span><span class="o">:</span>
  <span class="n">provider</span><span class="o">:</span> <span class="n">heroku</span>
  <span class="n">api_key</span><span class="o">:</span>
    <span class="n">secure</span><span class="o">:</span> <span class="n">R4LFkVu1</span><span class="sr">/io9wSb/FvVL6UEaKU7Y4vfen/gCDe0OnEwsH+VyOwcT5tyINAg05jWXhRhsgjYT9AuyB84uCuNZg+lO7HwV5Q4WnHo5IVcCrv0PUq/CbRPUS4C2kDD7zbA1ByCd224tcfBmUtu+DPzyouk23oJH+lUwa/</span><span class="n">FeUk0Yl</span><span class="o">+</span><span class="n">I</span><span class="o">=</span>
  <span class="n">app</span><span class="o">:</span> <span class="n">workshopvenues</span>
  <span class="n">on</span><span class="o">:</span>
    <span class="n">repo</span><span class="o">:</span> <span class="n">andreagrandi</span><span class="o">/</span><span class="n">workshopvenues</span>
  <span class="n">run</span><span class="o">:</span>
    <span class="o">-</span> <span class="s2">&quot;python workshopvenues/manage.py syncdb&quot;</span>
    <span class="o">-</span> <span class="s2">&quot;python workshopvenues/manage.py migrate&quot;</span>
</pre></div>


<p>Not only the code is deployed, after deployment the <strong>South migrations</strong>
are executed.</p>
<h2>Conclusion</h2>
<p>These two tools are saving me lot of time and are ensuring that the code
I release for a project I'm working on
(<a href="https://github.com/andreagrandi/workshopvenues"><strong>WorkshopVenues</strong></a>)
is always tested when I push it on my repository.</p>
                <a class="readmore" href="https://www.andreagrandi.it/2014/03/02/travis-ci-org-and-coveralls-io-qa-made-easy/">read more</a>
<p><a href="https://www.andreagrandi.it/2014/03/02/travis-ci-org-and-coveralls-io-qa-made-easy/#disqus_thread">comments</a></p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://www.andreagrandi.it/2014/01/30/factoryboy-creating-data-for-unit-tests-in-an-easy-way/" rel="bookmark"
                           title="Permalink to Factoryboy: Creating data for unit tests in an easy way">Factoryboy: Creating data for unit tests in an easy way</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <span>Thu 30 January 2014</span>
	        <span>| in <a href="https://www.andreagrandi.it/category/programmazione-python.html">Programmazione, Python</a></span>

</footer><!-- /.post-info -->                <p>I recently prepared a presentation about
<a href="http://factoryboy.readthedocs.org"><strong>Factoryboy</strong></a>, a Python library
that automates lot of the work when a developer needs to create some
data for unit testing.</p>
<p>I've been using this library since a couple of months, both in the
company where I work and on a personal open source project I'm working
on. I will give a presentation about this library in an internal
workshop in my company and I'm available to give it in any Python/Django
related event around <strong>London</strong>, if anyone is interested.</p>
<p>The slides are already available:</p>
<p>
<script async class="speakerdeck-embed" data-id="55509260698a013170b8769b07168819" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>
</p>
                <a class="readmore" href="https://www.andreagrandi.it/2014/01/30/factoryboy-creating-data-for-unit-tests-in-an-easy-way/">read more</a>
<p><a href="https://www.andreagrandi.it/2014/01/30/factoryboy-creating-data-for-unit-tests-in-an-easy-way/#disqus_thread">comments</a></p>                </div><!-- /.entry-content -->
            </article></li>
            </ol><!-- /#posts-list -->
<p class="paginator">
        <a href="https://www.andreagrandi.it/author/admin3.html">&laquo;</a>
    Page 4 / 42
        <a href="https://www.andreagrandi.it/author/admin5.html">&raquo;</a>
</p>
            </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="https://www.andreagrandi.it/feeds/all.rss.xml" type="application/rss+xml" rel="alternate">rss feed</a></li>

                            <li><a href="https://twitter.com/andreagrandi">twitter</a></li>
                            <li><a href="https://github.com/andreagrandi">github</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <p>
                    Powered by <a href="http://getpelican.com/">Pelican</a> and Python -
                    Source code available on <a href="https://github.com/andreagrandi/andreagrandi.it">GitHub</a>
                    <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">
                        <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc/4.0/80x15.png" />
                    </a>
                </p>
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-2140684-3']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
<script type="text/javascript">
    var disqus_shortname = 'andrea-grandi-it';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>