
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="" />

  <link
    href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap"
    rel="stylesheet">

  <link rel="stylesheet" type="text/css" href="https://www.andreagrandi.it/theme/stylesheet/style.min.css">


  <link id="pygments-light-theme" rel="stylesheet" type="text/css"     href="https://www.andreagrandi.it/theme/pygments/monokai.min.css">

  <script src="https://www.andreagrandi.it/theme/tipuesearch/jquery.min.js"></script>
  <script defer src="https://www.andreagrandi.it/theme/tipuesearch/tipuesearch.min.js"></script>
  <script defer src="https://www.andreagrandi.it/theme/tipuesearch/tipuesearch_set.js"></script>
  <script defer src="https://www.andreagrandi.it/tipuesearch_content.js"></script>
  <link rel="stylesheet" href="https://www.andreagrandi.it/theme/tipuesearch/tipuesearch.min.css" />

  <link rel="stylesheet" type="text/css" href="https://www.andreagrandi.it/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="https://www.andreagrandi.it/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="https://www.andreagrandi.it/theme/font-awesome/css/solid.css">



  <link href="https://www.andreagrandi.it/feeds/all.rss.xml" type="application/rss+xml" rel="alternate"
    title="Andrea Grandi RSS">


<!-- Google Analytics -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-2140684-3', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics -->
  <!-- Chrome, Firefox OS and Opera -->
  <meta name="theme-color" content="#333333">
  <!-- Windows Phone -->
  <meta name="msapplication-navbutton-color" content="#333333">
  <!-- iOS Safari -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <!-- Microsoft EDGE -->
  <meta name="msapplication-TileColor" content="#333333">

  <meta name="author" content="Andrea Grandi" />
  <meta name="description" content="" />
<meta property="og:site_name" content="Andrea Grandi"/>
<meta property="og:type" content="blog"/>
<meta property="og:title" content="Andrea Grandi"/>
<meta property="og:description" content=""/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="https://www.andreagrandi.it"/>
<meta property="og:image" content="/images/me_pycon_2019_2_300x300.jpg">

  <title>Andrea Grandi &ndash; Posts by Andrea Grandi:</title>



  <link rel="me" href="https://mastodon.social/@andreagrandi" />
</head>

<body class="light-theme"
>
  <aside>
    <div>
      <a href="https://www.andreagrandi.it">
        <img src="/images/me_pycon_2019_2_300x300.jpg" alt="Andrea Grandi" title="Andrea Grandi">
      </a>

      <h1>
        <a href="https://www.andreagrandi.it">Andrea Grandi</a>
      </h1>

<p>Software Developer</p>
      <form class="navbar-search" action="/search.html" role="search">
        <input type="text" name="q" id="tipue_search_input" placeholder="Search...">
      </form>

      <nav>
        <ul class="list">


          <li>
            <a target="_self"
              href="https://www.andreagrandi.it/about/">
              About
            </a>
          </li>
          <li>
            <a target="_self"
              href="https://www.andreagrandi.it/curriculum/">
              Curriculum
            </a>
          </li>
          <li>
            <a target="_self"
              href="https://www.andreagrandi.it/pgp-key/">
              PGP Key
            </a>
          </li>

        </ul>
      </nav>

      <ul class="social">
        <li>
          <a  class="sc-twitter" href="https://twitter.com/andreagrandi" target="_blank">
            <i class="fab fa-twitter"></i>
          </a>
        </li>
        <li>
          <a rel="me"  class="sc-mastodon" href="https://mastodon.social/@andreagrandi" target="_blank">
            <i class="fab fa-mastodon"></i>
          </a>
        </li>
        <li>
          <a  class="sc-github" href="https://github.com/andreagrandi" target="_blank">
            <i class="fab fa-github"></i>
          </a>
        </li>
        <li>
          <a  class="sc-linkedin" href="https://www.linkedin.com/in/andreagrandi/" target="_blank">
            <i class="fab fa-linkedin"></i>
          </a>
        </li>
      </ul>
    </div>

  </aside>
  <main>

    <nav>
      <a href="https://www.andreagrandi.it">Home</a>

      <a href="/archives.html">Archives</a>
      <a href="/categories.html">Categories</a>
      <a href="/tags.html">Tags</a>


      <a href="https://www.andreagrandi.it/feeds/all.rss.xml">RSS</a>
    </nav>



<article>
  <header>
    <h2><a href="https://www.andreagrandi.it/2014/03/02/travis-ci-org-and-coveralls-io-qa-made-easy/">Travis-ci.org and Coveralls.io: Continuous Integration and QA made easy</a></h2>
    <p>
      Posted on Sun 02 March 2014 in <a href="https://www.andreagrandi.it/category/linux-programmazione-python.html">Linux, Programmazione, Python</a>


    </p>
  </header>
  <div>
      <p>Developing a large web application or before deploying some code is very
important to verify the quality of the code itself, check if we have
introduced any regression or bug and have something that tell us if we
are increasing or decreasing the quality of the code.</p>
<p>Suppose we are in an organization or a company where the basic rule is:
<strong>master</strong> branch is always ready/stable to be deployed. In a team
usually people work on personal branches, then when the code is stable
it's merged with master.</p>
<p>How do we check if the code is stable and ready to be merged? First of
all we need to cover all our code with <strong>proper tests</strong> (I won't go in
details about unit testing here, I assume that the reader knows what I'm
talking about), then we need to actually run them, possibly in an
isolated environment that is similar to the production one, and check if
they all pass. If they do, we are quite safe to merge our code with
master branch.</p>
<p>How can we ensure that all the developers remember to run tests when
they push some new code? To make things a bit more real, let's take the
example of a Python/Django product (or even a library) that currently
supports <strong>Python 2.6, 2.7, 3.3</strong> and <strong>Django 1.4.x, 1.5.x, 1.6.x</strong>.
The whole matrix consists of <strong>9 possible combinations</strong>. Do we have to
manually run tests on 9 configurations? No, we don't.</p>
<h2>Travis-ci.org</h2>
<p><strong>Travis</strong> is a continuous integration tool that, once configured, takes
care of these tasks and let us save lot of time (that we can use to
actually write code). <a href="https://travis-ci.org">Travis-ci.org</a> is an
online service that works with <a href="https://github.com"><strong>GitHub</strong></a> (it
requires we use GitHub as repository for our code), and once we have
connected the two accounts and configured a very simple file in our
projects, it's automatically triggered when we push on our GitHub
repository.</p>
<p>The configuration consists of adding a file named <strong>.travis.yml</strong> in the
root of our project. A working example is available here
<a href="https://github.com/andreagrandi/workshopvenues/blob/master/.travis.yml">https://github.com/andreagrandi/workshopvenues/blob/master/.travis.yml</a>
(all the env variables I set are not required normally, but that's where
I save the values of my configuration, so they need to be initialized
before I can run tests).</p>
<p>The service supports most of the languages that are commonly used and
even a good number of PAAS, making it very easy to automatically
<strong>deploy</strong> our code. If it should not be enough for your needs, they
also expose a public <strong>API</strong>. I suggest you to give a look at the
official documentation that will explain everything in details
<a href="http://docs.travis-ci.com">http://docs.travis-ci.com</a></p>
<p>Once everything is configured, we will have something like this on our
console
<a href="https://travis-ci.org/andreagrandi/workshopvenues/jobs/19882128">https://travis-ci.org/andreagrandi/workshopvenues/jobs/19882128</a></p>
<p><a href="https://www.andreagrandi.it/images/2014/03/travis-ci-console.png"><img alt="travis-ci-console" src="https://www.andreagrandi.it/images/2014/03/travis-ci-console-1024x544.png" width="90%"></a></p>
<p>If something goes wrong (if tests don't pass for example) we receive a
notification with all the informations about the failing build, and if
we had configured an automatic deployment of course the code would not
be deployed in case of a failing build.</p>
<p>Travis-ci.org is <strong>completly free</strong> for opensource projects and has also
a paid version for private repositories.</p>
<h2>Coveralls.io</h2>
<p>There is a nice tool available for Python called
<a href="http://nedbatchelder.com/code/coverage"><strong>coverage</strong></a>. Basically it
runs tests and checks the percentage of the source code that is covered
by tests, producing a nice report that shows us the percentage for every
single file/module and even the lines of code that have been tested.</p>
<p>Thanks to Coveralls.io and the use of Travis, even these tasks are
completly automatized and the results are available online like in this
example <a href="https://coveralls.io/builds/560853">https://coveralls.io/builds/560853</a></p>
<p>The configuration is quite easy. We need to connect our Coveralls.io
profile with GitHub, like we did for Travis-ci.org and then enable the
repository. To trigger Coveralls after a successful Travis build, we
need to have these lines at the end of our <strong>.travis.yml</strong> file</p>
<div class="highlight"><pre><span></span><code><span class="nt">after_success</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">coveralls</span><span class="w"></span>
</code></pre></div>

<p><a href="https://www.andreagrandi.it/images/2014/03/coveralls-console.png"><img alt="coveralls-console" src="https://www.andreagrandi.it/images/2014/03/coveralls-console-1024x767.png" width="90%"></a><br>
Even Coveralls.io is <strong>completly free</strong> for opensource projects and
offers a paid version for private repositories.</p>
<h2>Heroku</h2>
<p>I use <a href="https://www.heroku.com"><strong>Heroku</strong></a> to host and run my web
application. Normally to deploy on Heroku you so something like this:
<strong>git push heroku master</strong></p>
<p>Adding these settings to the <strong>.travis.yaml</strong> file, I can automatically
deploy the application on Heroku, if the build was successful:</p>
<div class="highlight"><pre><span></span><code><span class="nt">deploy</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">provider</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">heroku</span><span class="w"></span>
<span class="w">  </span><span class="nt">api_key</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">secure</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">R4LFkVu1/io9wSb/FvVL6UEaKU7Y4vfen/gCDe0OnEwsH+VyOwcT5tyINAg05jWXhRhsgjYT9AuyB84uCuNZg+lO7HwV5Q4WnHo5IVcCrv0PUq/CbRPUS4C2kDD7zbA1ByCd224tcfBmUtu+DPzyouk23oJH+lUwa/FeUk0Yl+I=</span><span class="w"></span>
<span class="w">  </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">workshopvenues</span><span class="w"></span>
<span class="w">  </span><span class="nt">on</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">repo</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">andreagrandi/workshopvenues</span><span class="w"></span>
<span class="w">  </span><span class="nt">run</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;python</span><span class="nv"> </span><span class="s">workshopvenues/manage.py</span><span class="nv"> </span><span class="s">syncdb&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;python</span><span class="nv"> </span><span class="s">workshopvenues/manage.py</span><span class="nv"> </span><span class="s">migrate&quot;</span><span class="w"></span>
</code></pre></div>

<p>Not only the code is deployed, after deployment the <strong>South migrations</strong> are executed.</p>
<h2>Conclusion</h2>
<p>These two tools are saving me lot of time and are ensuring that the code
I release for a project I'm working on
(<a href="https://github.com/andreagrandi/workshopvenues"><strong>WorkshopVenues</strong></a>)
is always tested when I push it on my repository.</p>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="https://www.andreagrandi.it/2014/01/30/factoryboy-creating-data-for-unit-tests-in-an-easy-way/">Factoryboy: Creating data for unit tests in an easy way</a></h2>
    <p>
      Posted on Thu 30 January 2014 in <a href="https://www.andreagrandi.it/category/programmazione-python.html">Programmazione, Python</a>


    </p>
  </header>
  <div>
      <p>I recently prepared a presentation about
<a href="http://factoryboy.readthedocs.org"><strong>Factoryboy</strong></a>, a Python library
that automates lot of the work when a developer needs to create some
data for unit testing.</p>
<p>I've been using this library since a couple of months, both in the
company where I work and on a personal open source project I'm working
on. I will give a presentation about this library in an internal
workshop in my company and I'm available to give it in any Python/Django
related event around <strong>London</strong>, if anyone is interested.</p>
<p>The slides are already available:</p>
<p>
<script async class="speakerdeck-embed" data-id="55509260698a013170b8769b07168819" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>
</p>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="https://www.andreagrandi.it/2013/11/08/how-to-fix-encfs-installation-on-osx-10-9-mavericks-and-brew/">How to fix encfs installation on OSX 10.9 (Mavericks) and brew</a></h2>
    <p>
      Posted on Fri 08 November 2013 in <a href="https://www.andreagrandi.it/category/howto-osx-sicurezza.html">HowTo, OSX, Sicurezza</a>

          &#8226; Tagged with
              <a href="https://www.andreagrandi.it/tag/cloud.html">cloud</a>,              <a href="https://www.andreagrandi.it/tag/encfs.html">encfs</a>,              <a href="https://www.andreagrandi.it/tag/encryption.html">encryption</a>,              <a href="https://www.andreagrandi.it/tag/fuse4x.html">fuse4x</a>,              <a href="https://www.andreagrandi.it/tag/osx.html">OSX</a>,              <a href="https://www.andreagrandi.it/tag/security.html">security</a>
    </p>
  </header>
  <div>
      <p>After upgrading from OSX 10.8.x to 10.9 (Mavericks), <strong>encfs</strong> recipe is
broken. First of all you have to fix a problem with a library header:</p>
<div class="highlight"><pre><span></span><code>sudo ln -s /usr/include/sys/_endian.h /usr/include/sys/endian.h
</code></pre></div>

<p>then you can install encfs using this remote brew recipe:</p>
<div class="highlight"><pre><span></span><code>brew reinstall https://gist.github.com/ghibble/7297078/raw/cae1ff000a5e1cfc670f5b7a611279ed494b63af/encfs.rb
</code></pre></div>

<p>It's also possible that you have to fix fuse4x installation before being
able to use encfs (I had to do it):</p>
<div class="highlight"><pre><span></span><code>sudo /bin/cp -rfX /usr/local/Cellar/fuse4x-kext/0.9.2/Library/Extensions/fuse4x.kext /Library/Extensions
sudo chmod +s /Library/Extensions/fuse4x.kext/Support/load_fuse4x
</code></pre></div>

<p>That's it! Please note that this is just a workaround (thanks to
<strong>Giovanni Bajo</strong> for suggesting me the symlink fix). Please also note
that this recipe uses fuse4x library and not the most updated osxfuse
(but it works, anyway). Some other users reported me that there is a fix
for the original brew recipe, and this one uses osxfuse. You can find it
here <a href="https://gist.github.com/defunctzombie/7324625">https://gist.github.com/defunctzombie/7324625</a> but I haven't
tested it yet.</p>
<p><strong>Update:</strong> to fully integrate encfs with OSX, I also suggest to follow
this nice guide <a href="http://www.maketecheasier.com/install-encfs-mac/">http://www.maketecheasier.com/install-encfs-mac/</a></p>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="https://www.andreagrandi.it/2013/06/22/how-to-make-subwoofer-work-in-ubuntu/">How to make subwoofer work in Ubuntu</a></h2>
    <p>
      Posted on Sat 22 June 2013 in <a href="https://www.andreagrandi.it/category/howto.html">HowTo</a>

          &#8226; Tagged with
              <a href="https://www.andreagrandi.it/tag/sound.html">sound</a>,              <a href="https://www.andreagrandi.it/tag/subwoofer.html">subwoofer</a>,              <a href="https://www.andreagrandi.it/tag/ubuntu.html">Ubuntu</a>,              <a href="https://www.andreagrandi.it/tag/linux.html">Linux</a>
    </p>
  </header>
  <div>
      <p>Using the same computer with Windows 8 and Ubuntu I noticed that the
sound was worse in Ubuntu and I discovered why soon: <strong>subwoofer</strong>
doesn't work out of the box!</p>
<h2>How to fix it</h2>
<p>The fix is quite easy to apply (but it was not easy to find the right
one!). First of all edit <strong>/etc/pulse/default.pa</strong> and add this line at
the end:</p>
<div class="highlight"><pre><span></span><code>load-module module-combine <span class="nv">channels</span><span class="o">=</span><span class="m">6</span> <span class="nv">channel_map</span><span class="o">=</span>front-left,front-right,rear-left,rear-right,front-center,lfe
</code></pre></div>

<p>then edit <strong><code>/etc/pulse/daemon.conf</code></strong>, modify the line
<code>enable-lfe-remixing: no</code> to <strong><code>enable-lfe-remixing: yes</code></strong>, then
uncomment it (remove the semicolon in front of it). Reboot your PC and
enjoy the subwoofer!</p>
<h2>References</h2>
<ul>
<li><a href="http://forums.gentoo.org/viewtopic-t-859769.html">http://forums.gentoo.org/viewtopic-t-859769.html</a></li>
<li><a href="http://askubuntu.com/questions/53802/subwoofer-sound-preferences-problem">http://askubuntu.com/questions/53802/subwoofer-sound-preferences-problem</a></li>
</ul>
  </div>
</article>

  <div class="pagination">
    <a class="btn float-left" href="https://www.andreagrandi.it/author/andrea-grandi15.html">
      <i class="fa fa-angle-left"></i> Older Posts
    </a>
    <a class="btn float-right" href="https://www.andreagrandi.it/author/andrea-grandi13.html">
      Newer Posts <i class="fa fa-angle-right"></i>
    </a>
  </div>



    <footer>
<p>
  &copy; 2022  - This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>
</p>
<p>
  Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme - source code available on <a href="https://github.com/andreagrandi/andreagrandi.it" target="_blank">GitHub</a>
</p><p>
  <a rel="license"
     href="http://creativecommons.org/licenses/by-sa/4.0/"
     target="_blank">
    <img alt="Creative Commons License"
         title="Creative Commons License"
         style="border-width:0"
           src="images/by-sa.png"
         width="80"
         height="15"/>
  </a>
</p>    </footer>
  </main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Andrea Grandi ",
  "url" : "https://www.andreagrandi.it",
  "image": "/images/me_pycon_2019_2_300x300.jpg",
  "description": ""
}
</script>

  <script>
    $(document).ready(function () {
      $('#tipue_search_input').tipuesearch();
    });
  </script>

</body>

</html>