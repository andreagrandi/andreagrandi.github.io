<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>Andrea Grandi</title>
        <link rel="stylesheet" href="https://www.andreagrandi.it/theme/css/main.css" />
        <link rel="stylesheet" href="https://www.andreagrandi.it/theme/tipuesearch/css/tipuesearch.css">

        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://www.andreagrandi.it/">Andrea Grandi </a></h1>
                <nav><ul>
    
                        <li><a href="https://www.andreagrandi.it/about/">About</a></li>
    
                        <li><a href="https://www.andreagrandi.it/curriculum/">Curriculum</a></li>
    
                        <li><a href="https://www.andreagrandi.it/pgp-key/">PGP Key</a></li>
                </ul>
<form id="search" action="https://www.andreagrandi.it/search.html" onsubmit="return validateForm(this.elements['q'].value);">
                        <input type="text" class="search-query" placeholder="" name="q" id="tipue_search_input">
                    </form>
                </nav>
        </header><!-- /#banner -->

                <section id="content" class="body">
                    <ol id="posts-list" class="hfeed" start="3">
            <li><article class="hentry">
                <header>
                    <h1><a href="https://www.andreagrandi.it/2016/01/26/using-bbc-microbit-accelerometer-with-python/" rel="bookmark"
                           title="Permalink to Using BBC MicroBit accelerometer with Python">Using BBC MicroBit accelerometer with Python</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <span>Tue 26 January 2016</span>
	        <span>| in <a href="https://www.andreagrandi.it/category/development.html">Development</a></span>
<span>| tags: <a href="https://www.andreagrandi.it/tag/bbc.html">bbc</a><a href="https://www.andreagrandi.it/tag/microbit.html">microbit</a><a href="https://www.andreagrandi.it/tag/python.html">Python</a><a href="https://www.andreagrandi.it/tag/howto.html">howto</a></span>
</footer><!-- /.post-info -->                <p>In these days I'm having a bit of fun with <strong><a href="https://www.microbit.co.uk/">BBC
MicroBit</a></strong> board and I'm learning how to
use the different sensors available. The latest one I wanted to try was
the accelerometer. The board can "sense" if you are moving it in any of
the 3 dimensional axes: X, Y, Z. According to the
<a href="https://microbit-micropython.readthedocs.org/en/latest/accelerometer.html">documentation</a>
there are four methods available that can be used to get these
values: <strong>microbit.accelerometer.get_values()</strong> will return you a tuple with all the 3 values, while 
<strong>microbit.accelerometer.get_x()</strong>, <strong>microbit.accelerometer.get_y()</strong>, <strong>microbit.accelerometer.get_z()</strong>
will give you the single values.</p>
<p>The documentation on the official website doesn't explain much and for
example I didn't even know what was the range of the values I can get
back from these methods (by the way it's <strong>between -1024</strong> and
<strong>1024</strong>), so I decided to play with the code directly and write a very
simple example. The small example I wrote, shows a smile on the board
display if you keep it straight and shows a sad face if you bend it.</p>
<p>This is the result:</p>
<iframe width="420" height="315" src="https://www.youtube.com/embed/LX8fYBsOxA0" frameborder="0" allowfullscreen="allowfullscreen"></iframe>

<p>and this is all the needed code of the application:</p>
<p>
<script src="https://gist.github.com/andreagrandi/f4a7c8ee8597dde3070d.js"></script>
</p>

<p>In the next days I will try to play with more sensors and to publish
other examples.</p>
                <a class="readmore" href="https://www.andreagrandi.it/2016/01/26/using-bbc-microbit-accelerometer-with-python/">read more</a>
<p><a href="https://www.andreagrandi.it/2016/01/26/using-bbc-microbit-accelerometer-with-python/#disqus_thread">comments</a></p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://www.andreagrandi.it/2015/12/18/using-python-pypy-in-a-virtual-environment/" rel="bookmark"
                           title="Permalink to Using Python PyPy in a virtual environment">Using Python PyPy in a virtual environment</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <span>Fri 18 December 2015</span>
	        <span>| in <a href="https://www.andreagrandi.it/category/howto-python.html">HowTo, Python</a></span>
<span>| tags: <a href="https://www.andreagrandi.it/tag/pypy.html">pypy</a><a href="https://www.andreagrandi.it/tag/python.html">Python</a></span>
</footer><!-- /.post-info -->                <p>Sometimes we need to test if our code also works with
<strong><a href="http://pypy.org/">PyPy</a></strong> implementation of <strong>Python</strong>. Assuming you
have already installed it in your system, first find out where it is
installed:</p>
<p>``` {.lang:zsh .decode:true}
➜  ~  which pypy
/usr/local/bin/pypy</p>
<div class="highlight"><pre><span></span>then you need **mkvirtualenv** to create a virtual environment that will
use this runtime:

``` {.lang:zsh .decode:true}
➜  ~  mkvirtualenv -p /usr/local/bin/pypy pypy-test
Running virtualenv with interpreter /usr/local/bin/pypy
New pypy executable in pypy-test/bin/pypy
Installing setuptools, pip, wheel...done.
(pypy-test)➜  ~  python
Python 2.7.10 (f3ad1e1e1d6215e20d34bb65ab85ff9188c9f559, Sep 01 2015, 06:26:30)
[PyPy 2.6.1 with GCC 4.2.1 Compatible Apple LLVM 6.1.0 (clang-602.0.53)] on darwin
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt;&gt;
</pre></div>


<p>That's it! You can now use this virtual environment to run your Python
application using PyPy environment.</p>
                <a class="readmore" href="https://www.andreagrandi.it/2015/12/18/using-python-pypy-in-a-virtual-environment/">read more</a>
<p><a href="https://www.andreagrandi.it/2015/12/18/using-python-pypy-in-a-virtual-environment/#disqus_thread">comments</a></p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://www.andreagrandi.it/2015/12/10/getting-started-with-bbc-microbit-and-python/" rel="bookmark"
                           title="Permalink to Getting started with BBC MicroBit and Python">Getting started with BBC MicroBit and Python</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <span>Thu 10 December 2015</span>
	        <span>| in <a href="https://www.andreagrandi.it/category/howto-microbit-python.html">HowTo, Microbit, Python</a></span>
<span>| tags: <a href="https://www.andreagrandi.it/tag/microbit.html">microbit</a><a href="https://www.andreagrandi.it/tag/psf.html">psf</a></span>
</footer><!-- /.post-info -->                <p>A few days ago I had the great opportunity to attend an event organised
in collaboration with <strong><a href="https://www.python.org/">Python Software
Foundation</a></strong>, a few <strong>primary school
teachers</strong> and hosted by <strong><a href="http://www.computingatschool.org.uk/">Computing at
School</a></strong>, in <strong>London</strong>. The
meeting was organised by <strong>Yvonne Walker</strong> (from CAS) and <strong>Nicholas
Tollervey</strong> (PSF). The aim of the meeting was for teachers and
developers to meet and discuss the opportunities offered
by <strong><a href="https://micropython.org/">MicroPython</a></strong> on the <strong><a href="https://www.microbit.co.uk/">BBC
micro:bit</a></strong>. During the event a
<strong>BBC</strong> <strong>micro:bit</strong> board was loaned to each person for the purpose of
developing Python scripts, MicroPython itself or educational resources
for the <strong>BBC micro:bit</strong>. Nicholas made it very clear that there is an
<strong>NDA</strong> in place until the device is delivered to the kids and explained
what we could or couldn't do.</p>
<p><a href="https://www.andreagrandi.it/wp-content/uploads/2015/12/computing_at_school_microbit_reduced.jpg"><img alt="computing_at_school_microbit_reduced" src="https://www.andreagrandi.it/wp-content/uploads/2015/12/computing_at_school_microbit_reduced.jpg">{.aligncenter
.wp-image-1094 width="729"
height="546"}</a></p>
<h2>The Board</h2>
<p><a href="https://www.andreagrandi.it/wp-content/uploads/2015/12/bbcfullbleed.jpg"><img alt="bbcfullbleed" src="https://www.andreagrandi.it/wp-content/uploads/2015/12/bbcfullbleed.jpg">{.aligncenter
.wp-image-1082 width="515"
height="334"}</a></p>
<p>The board is a 4 x 5 cm device with an <strong>ARM Cortex-M0</strong> processor,
<strong>accelerometer</strong> and magnetometer sensors, <strong>Bluetooth</strong> and <strong>USB
connectivity</strong>, a <strong>display</strong> consisting of 25 LEDs, <strong>two programmable
buttons</strong>, and can be powered by either USB or an external battery pack
(source: <a href="https://en.wikipedia.org/wiki/Micro_Bit">https://en.wikipedia.org/wiki/Micro_Bit</a> ).</p>
<h2>Flashing the firmware</h2>
<p>Once you get a new board, it probably doesn't have a proper firmware and
application flashed. I suggest you to download the <strong>Python MicroBit
REPL</strong> from this repository: <a href="https://github.com/ntoll/microrepl">https://github.com/ntoll/microrepl</a><br>
All you need to do is to connect the board to your computer, using a
<strong>micro-USB cable</strong>. The device will be mounted as a volume. At this
point, drag &amp; drop the file called
<strong><a href="https://github.com/ntoll/microrepl/blob/master/firmware.hex">firmware.hex</a></strong>
into the mounted volume. The firmware will be flashed and during the
operation you will see a yellow led flashing.</p>
<h2>Using MicroPython micro:bit REPL</h2>
<p>To start writing some Python code on micro:bit you first need to clone
this <a href="https://github.com/ntoll/microrepl">repository</a></p>
<p>``` {.lang:default .decode:true}
git clone git@github.com:ntoll/microrepl.git</p>
<div class="highlight"><pre><span></span>once you have cloned the repository, you need to install the Python
dependencies (I suggest you to do it from inside a **virtualenv**)

``` {.lang:default .decode:true}
pip install -r requirements.txt
</pre></div>


<p>start the MicroPython REPL</p>
<p>``` {.lang:default .decode:true}
python microrepl.py</p>
<div class="highlight"><pre><span></span><span class="s s-Atom">and</span> <span class="s s-Atom">the</span> <span class="nv">Python</span> <span class="s s-Atom">shell</span> <span class="s s-Atom">will</span> <span class="s s-Atom">open</span><span class="p">,</span> <span class="s s-Atom">so</span> <span class="s s-Atom">you</span> <span class="s s-Atom">can</span> <span class="s s-Atom">start</span> <span class="s s-Atom">writing</span> <span class="s s-Atom">commands</span><span class="p">,</span> <span class="s s-Atom">like</span>
<span class="s s-Atom">this</span> <span class="s s-Atom">one</span>

<span class="err">```</span> <span class="p">{.</span><span class="nn">lang</span><span class="p">:</span><span class="s s-Atom">python</span> <span class="p">.</span><span class="nn">decode</span><span class="p">:</span><span class="s s-Atom">true</span><span class="p">}</span>
<span class="p">(</span><span class="s s-Atom">microbit</span><span class="p">)</span><span class="s s-Atom">➜</span>  <span class="s s-Atom">microrepl</span> <span class="nn">git</span><span class="p">:(</span><span class="s s-Atom">master</span><span class="p">)</span> <span class="s s-Atom">python</span> <span class="s s-Atom">microrepl</span><span class="p">.</span><span class="s s-Atom">py</span>
<span class="nv">Quit</span><span class="s s-Atom">:</span> <span class="nv">Ctrl</span><span class="s s-Atom">+</span><span class="p">]</span> <span class="p">|</span> <span class="nv">Stop</span> <span class="nn">program</span><span class="p">:</span> <span class="nv">Ctrl</span><span class="o">+</span><span class="nv">C</span> <span class="p">|</span> <span class="nv">Reset</span><span class="s s-Atom">:</span> <span class="nv">Ctrl</span><span class="o">+</span><span class="nv">D</span>
<span class="nv">Type</span> <span class="s s-Atom">&#39;help()&#39;</span> <span class="p">(</span><span class="s s-Atom">without</span> <span class="s s-Atom">the</span> <span class="s s-Atom">quotes</span><span class="p">)</span> <span class="s s-Atom">then</span> <span class="s s-Atom">press</span> <span class="nv">ENTER</span><span class="p">.</span>

<span class="s s-Atom">&gt;&gt;&gt;</span> <span class="s s-Atom">import</span> <span class="s s-Atom">this</span>
<span class="nv">The</span> <span class="nv">Zen</span> <span class="s s-Atom">of</span> <span class="nv">MicroPython</span><span class="p">,</span> <span class="s s-Atom">by</span> <span class="nv">Nicholas</span> <span class="nv">H</span><span class="p">.</span><span class="nv">Tollervey</span>

<span class="nv">Code</span><span class="p">,</span>
<span class="nv">Hack</span> <span class="s s-Atom">it</span><span class="p">,</span>
<span class="nv">Less</span> <span class="o">is</span> <span class="s s-Atom">more</span><span class="p">,</span>
<span class="nv">Keep</span> <span class="s s-Atom">it</span> <span class="s s-Atom">simple</span><span class="p">,</span>
<span class="nv">Small</span> <span class="o">is</span> <span class="s s-Atom">beautiful</span><span class="p">,</span>

<span class="nv">Be</span> <span class="s s-Atom">brave</span><span class="p">!</span> <span class="nv">Break</span> <span class="s s-Atom">things</span><span class="p">!</span> <span class="nv">Learn</span> <span class="s s-Atom">and</span> <span class="s s-Atom">have</span> <span class="s s-Atom">fun</span><span class="p">!</span>
<span class="nv">Express</span> <span class="s s-Atom">yourself</span> <span class="s s-Atom">with</span> <span class="nv">MicroPython</span><span class="p">.</span>

<span class="nv">Happy</span> <span class="s s-Atom">hacking</span><span class="p">!</span> <span class="p">:-)</span>
<span class="s s-Atom">&gt;&gt;&gt;</span>
</pre></div>


<h2>BBC micro:bit MicroPython Editor</h2>
<p>Typing all the Python commands directly into the shell can be a bit
difficult. You can use a very nice and dedicated editor to write code
and produce the compiled application for the micro:bit. All you need to
do is clone this <a href="https://github.com/ntoll/upyed">repository</a></p>
<p><code>{.lang:default .decode:true}
git clone git@github.com:ntoll/upyed.git</code></p>
<p>Open the file named <strong>editor.html</strong> with your browser and start writing
your code. When your code is done, you can generate the <strong>.hex</strong> file
clicking on <strong>Download</strong> button. To load the compiled application you
just need to drag &amp; drop the .hex file to the mounted device, exactly
like you did the first time to flash it. If you need a reference for all
the methods and libraries available, you can consult the official
documentation
here <a href="http://microbit-micropython.readthedocs.org/en/latest/index.html">http://microbit-micropython.readthedocs.org/en/latest/index.html</a></p>
<h2>References</h2>
<ul>
<li><a href="https://github.com/ntoll/microrepl">https://github.com/ntoll/microrepl</a></li>
<li><a href="https://github.com/ntoll/upyed">https://github.com/ntoll/upyed</a></li>
<li><a href="https://www.microbit.co.uk/">https://www.microbit.co.uk/</a></li>
<li><a href="http://microbit-micropython.readthedocs.org/en/latest/index.html">http://microbit-micropython.readthedocs.org/en/latest/index.html</a></li>
</ul>
                <a class="readmore" href="https://www.andreagrandi.it/2015/12/10/getting-started-with-bbc-microbit-and-python/">read more</a>
<p><a href="https://www.andreagrandi.it/2015/12/10/getting-started-with-bbc-microbit-and-python/#disqus_thread">comments</a></p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://www.andreagrandi.it/2015/12/09/fix-encfs-under-osx-after-upgrading-to-10-11-2/" rel="bookmark"
                           title="Permalink to Fix encfs under OSX after upgrading to 10.11.2">Fix encfs under OSX after upgrading to 10.11.2</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <span>Wed 09 December 2015</span>
	        <span>| in <a href="https://www.andreagrandi.it/category/howto-osx.html">HowTo, OSX</a></span>
<span>| tags: <a href="https://www.andreagrandi.it/tag/bug.html">bug</a><a href="https://www.andreagrandi.it/tag/encfs.html">encfs</a><a href="https://www.andreagrandi.it/tag/security.html">security</a></span>
</footer><!-- /.post-info -->                <p>After having upgraded <strong>OSX</strong> to <strong>10.11.2</strong> on my MacBook, I noticed
that my <strong>encfs</strong> volume didn't mount after reboot. I tried to run the
script manually and all I got was this error:</p>
<p>``` {.lang:default .decode:true}
dyld: Symbol not found: __ZN5boost7archive17xml_iarchive_implINS0_12xml_iarchiveEE13load_overrideERNS0_15class_name_typeEi
  Referenced from: /usr/local/Cellar/encfs/1.8.1/lib/libencfs.6.dylib
  Expected in: /usr/local/lib/libboost_serialization-mt.dylib
 in /usr/local/Cellar/encfs/1.8.1/lib/libencfs.6.dylib</p>
<div class="highlight"><pre><span></span>I quickly found that was a common problem caused by a new version of
**Boost** being
installed: &lt;https://github.com/Homebrew/homebrew/issues/46254&gt;

To fix it, you just need to **reinstall encfs** using this command

``` {.lang:default .decode:true}
brew reinstall -s encfs
</pre></div>
                <a class="readmore" href="https://www.andreagrandi.it/2015/12/09/fix-encfs-under-osx-after-upgrading-to-10-11-2/">read more</a>
<p><a href="https://www.andreagrandi.it/2015/12/09/fix-encfs-under-osx-after-upgrading-to-10-11-2/#disqus_thread">comments</a></p>                </div><!-- /.entry-content -->
            </article></li>
            </ol><!-- /#posts-list -->
<p class="paginator">
        <a href="https://www.andreagrandi.it/index2.html">&laquo;</a>
    Page 3 / 48
        <a href="https://www.andreagrandi.it/index4.html">&raquo;</a>
</p>
            </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="https://twitter.com/andreagrandi">twitter</a></li>
                            <li><a href="https://github.com/andreagrandi">github</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <p>
                    Powered by <a href="http://getpelican.com/">Pelican</a>. Theme <a href="https://github.com/blueicefield/pelican-blueidea/">blueidea</a>, inspired by the default theme.
                    <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">
                        <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc/4.0/80x15.png" />
                    </a>
                </p>
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-2140684-3']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
<script type="text/javascript">
    var disqus_shortname = 'andrea-grandi-it';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>