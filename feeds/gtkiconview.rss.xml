<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"><channel><title>Andrea Grandi - gtkiconview</title><link>https://www.andreagrandi.it/</link><description></description><lastBuildDate>Tue, 15 Apr 2008 15:24:00 +0100</lastBuildDate><item><title>Using GtkIconView in Python: a small tutorial</title><link>https://www.andreagrandi.it/2008/04/15/using-gtkiconview-in-python-a-small-tutorial/</link><description>&lt;p&gt;In these days I was looking for a simple tutorial to understand how to
use &lt;strong&gt;GtkIconView&lt;/strong&gt;, but the only thing I was able to find was an
example in PHP-Gtk. So I decided to translate it in &lt;strong&gt;Python&lt;/strong&gt; language,
thinking it would be useful for other people trying to use that Gtk
control. You can find the code here:&lt;/p&gt;
&lt;p&gt;[sourcecode language='python']&lt;br&gt;
import gtk&lt;br&gt;
import gobject&lt;/p&gt;
&lt;p&gt;DEFAULT_IMAGE_WIDTH = 100&lt;/p&gt;
&lt;p&gt;# Main Window setup&lt;br&gt;
window = gtk.Window(gtk.WINDOW_TOPLEVEL)&lt;br&gt;
window.set_size_request(400, 240)&lt;br&gt;
window.connect("destroy", gtk.main_quit)&lt;br&gt;
window.set_title("Python GtkIconView Test")&lt;/p&gt;
&lt;p&gt;# Add a VBox&lt;br&gt;
vbox = gtk.VBox()&lt;br&gt;
window.add(vbox)&lt;/p&gt;
&lt;p&gt;# Setup Scrolled Window&lt;br&gt;
scrolled_win = gtk.ScrolledWindow()&lt;br&gt;
scrolled_win.set_policy(gtk.POLICY_AUTOMATIC, gtk.POLICY_AUTOMATIC)&lt;/p&gt;
&lt;p&gt;# Setup ListStore to contain images and description&lt;br&gt;
model = gtk.ListStore(gtk.gdk.Pixbuf, gobject.TYPE_STRING)&lt;/p&gt;
&lt;p&gt;# Create a tuple with image files&lt;br&gt;
immagini = ("BD786-TFR.jpg", "guido_sottozero.jpg", "IMG_0056.JPG",
"movies_card.jpg")&lt;/p&gt;
&lt;p&gt;for im in immagini:&lt;br&gt;
try:&lt;br&gt;
pixbuf = gtk.gdk.pixbuf_new_from_file(im)&lt;br&gt;
pix_w = pixbuf.get_width()&lt;br&gt;
pix_h = pixbuf.get_height()&lt;br&gt;
new_h = (pix_h * DEFAULT_IMAGE_WIDTH) / pix_w # Calculate the
scaled height before resizing image&lt;br&gt;
scaled_pix = pixbuf.scale_simple(DEFAULT_IMAGE_WIDTH, new_h,
gtk.gdk.INTERP_TILES)&lt;br&gt;
model.append((scaled_pix, im))&lt;br&gt;
except:&lt;br&gt;
pass&lt;/p&gt;
&lt;p&gt;# Setup GtkIconView&lt;br&gt;
view = gtk.IconView(model) # Pass the model stored in a ListStore to
the GtkIconView&lt;br&gt;
view.set_pixbuf_column(0)&lt;br&gt;
view.set_text_column(1)&lt;br&gt;
view.set_selection_mode(gtk.SELECTION_MULTIPLE)&lt;br&gt;
view.set_columns(0)&lt;br&gt;
view.set_item_width(150)&lt;/p&gt;
&lt;p&gt;# Pack objects and show them all&lt;br&gt;
scrolled_win.add(view)&lt;br&gt;
vbox.pack_start(scrolled_win)&lt;br&gt;
window.show_all()&lt;/p&gt;
&lt;p&gt;gtk.main()&lt;br&gt;
[/sourcecode]&lt;/p&gt;
&lt;p&gt;The important thing to notice is that you have to store all the images
in a &lt;strong&gt;GtkListStore&lt;/strong&gt; and pass it to the &lt;strong&gt;GtkIconView&lt;/strong&gt; as &lt;em&gt;"model"&lt;/em&gt;
parameter. I hope this example is clear. If you have any question,
please comment this post and I'll try to answer.&lt;/p&gt;
&lt;p&gt;This is a screenshot of this example:&lt;/p&gt;
&lt;p&gt;&lt;img alt="gtkiconview" src="http://www.andreagrandi.it/wp-content/uploads/2008/04/gtkiconview_sample.png"&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Tue, 15 Apr 2008 15:24:00 +0100</pubDate><guid isPermaLink="false">tag:www.andreagrandi.it,2008-04-15:/2008/04/15/using-gtkiconview-in-python-a-small-tutorial/</guid><category>gtk</category><category>gtkiconview</category><category>gtkliststore</category><category>HowTo</category><category>programming</category><category>Python</category><category>tutorial</category></item></channel></rss>