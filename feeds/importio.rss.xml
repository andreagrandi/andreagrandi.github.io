<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"><channel><title>Andrea Grandi - import.io</title><link>https://www.andreagrandi.it/</link><description>Software Developer</description><lastBuildDate>Sun, 12 Jul 2015 10:10:00 +0200</lastBuildDate><item><title>Soma.fm + Spotify + import.io + Python mashup: automatically create a Spotify playlist with Soma.fm tracks</title><link>https://www.andreagrandi.it/2015/07/12/soma-fm-spotify-import-io-python-mashup/</link><description>&lt;p&gt;I'm a big fan of &lt;a href="http://somafm.com"&gt;Soma.fm&lt;/a&gt; (a 25+ channels streaming
radio based in San Francisco) and during the years I've been writing
clients for this radio for different mobile platforms (Maemo, MeeGo,
Harmattan, Windows Phone, BlackBerry 10, Jolla). I love in particular
their "&lt;a href="http://somafm.com/indiepop/"&gt;&lt;strong&gt;Indie Pop Rock&lt;/strong&gt;&lt;/a&gt;" channel that
during these years made me discover some very good artists.&lt;/p&gt;
&lt;p&gt;When &lt;strong&gt;Spotify&lt;/strong&gt; finally was available in Italy (I'm still using it
right now that I live in the UK), something that I always missed was a
radio with the same good music. Why not just listening to Soma.fm?
Because I like to listen to the music while I commute and in the London
Underground it's nearly impossible to have signal.&lt;/p&gt;
&lt;p&gt;So I was thinking: it would be nice to have &lt;strong&gt;a Spotify playlist with
Soma.fm tracks&lt;/strong&gt;. Wait a moment.... &lt;strong&gt;I can do it!&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.andreagrandi.it/images/2015/07/Frankenstein_Jr_Mel_Brooks_1974.jpg"&gt;&lt;img alt="Frankenstein_Jr_Mel_Brooks_1974" src="https://www.andreagrandi.it/images/2015/07/Frankenstein_Jr_Mel_Brooks_1974.jpg" width="60%"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Soma.fm publishes the tracks history with all the tracks streamed during
the last hour &lt;a href="http://somafm.com/indiepop/songhistory.html"&gt;http://somafm.com/indiepop/songhistory.html&lt;/a&gt; so I just
needed something to parse this list for me and return me a well
formatted version.&lt;/p&gt;
&lt;p&gt;Thanks to &lt;a href="https://import.io"&gt;&lt;strong&gt;import.io&lt;/strong&gt;&lt;/a&gt; (it's a service that takes
a web page as input, parse the data and generates a RESTful API to
access this data) I was able to easily get the data I needed. At this
point I only needed to be able to loop through the list, search each
track on Spotify and add it to my playlist.&lt;/p&gt;
&lt;p&gt;The &lt;strong&gt;source code is fully available&lt;/strong&gt; here
&lt;a href="https://github.com/andreagrandi/spotisoma"&gt;https://github.com/andreagrandi/spotisoma&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; you can't just get the code and run it. You will need to get
your own &lt;strong&gt;import.io api key&lt;/strong&gt;, generate your import.io api url, get a
&lt;a href="https://developer.spotify.com/technologies/libspotify/keys/"&gt;&lt;strong&gt;Spotify application
key&lt;/strong&gt;&lt;/a&gt; (the
old/deprecated one, since it was nearly impossible for me to use oauth
in a simple Python script due to the fact I didn't have an endpoint to
receive the token back. You can get more informations here:
&lt;a href="https://pyspotify.mopidy.com/en/latest/quickstart/#application-keys"&gt;https://pyspotify.mopidy.com/en/latest/quickstart/#application-keys&lt;/a&gt;)
and set your env variables with your Spotify username and password. Last
but not least: the &lt;strong&gt;old Spotify library&lt;/strong&gt; only works with &lt;strong&gt;Premium&lt;/strong&gt;
accounts.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Sun, 12 Jul 2015 10:10:00 +0200</pubDate><guid isPermaLink="false">tag:www.andreagrandi.it,2015-07-12:/2015/07/12/soma-fm-spotify-import-io-python-mashup/</guid><category>Python</category><category>import.io</category><category>music</category><category>Python</category><category>soma.fm</category><category>spotify</category></item></channel></rss>