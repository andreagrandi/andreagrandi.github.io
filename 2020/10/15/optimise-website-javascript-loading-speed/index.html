
<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="True" name="HandheldFriendly"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="" name="robots"/>
<link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&amp;family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&amp;display=swap" rel="stylesheet"/>
<link href="https://www.andreagrandi.it/theme/stylesheet/style.min.css" rel="stylesheet" type="text/css"/>
<link href="https://www.andreagrandi.it/theme/pygments/monokai.min.css" id="pygments-light-theme" rel="stylesheet" type="text/css"/>
<script src="https://www.andreagrandi.it/theme/tipuesearch/jquery.min.js"></script>
<script defer="" src="https://www.andreagrandi.it/theme/tipuesearch/tipuesearch.min.js"></script>
<script defer="" src="https://www.andreagrandi.it/theme/tipuesearch/tipuesearch_set.js"></script>
<script defer="" src="https://www.andreagrandi.it/tipuesearch_content.js"></script>
<link href="https://www.andreagrandi.it/theme/tipuesearch/tipuesearch.min.css" rel="stylesheet">
<link href="https://www.andreagrandi.it/theme/font-awesome/css/fontawesome.css" rel="stylesheet" type="text/css"/>
<link href="https://www.andreagrandi.it/theme/font-awesome/css/brands.css" rel="stylesheet" type="text/css"/>
<link href="https://www.andreagrandi.it/theme/font-awesome/css/solid.css" rel="stylesheet" type="text/css"/>
<link href="https://www.andreagrandi.it/feeds/all.rss.xml" rel="alternate" title="Andrea Grandi RSS" type="application/rss+xml"/>
<!-- Chrome, Firefox OS and Opera -->
<meta content="#333333" name="theme-color"/>
<!-- Windows Phone -->
<meta content="#333333" name="msapplication-navbutton-color"/>
<!-- iOS Safari -->
<meta content="yes" name="apple-mobile-web-app-capable"/>
<meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"/>
<!-- Microsoft EDGE -->
<meta content="#333333" name="msapplication-TileColor"/>
<meta content="Andrea Grandi" name="author">
<meta content="A simple way to optimise the websites loading speed by deferring javascript download" name="description">
<meta content="optimisation, optimise, javascript, js, website, web, performance, speed, defer, page, fast, loading, webpage, quicker" name="keywords"/>
<meta content="Andrea Grandi" property="og:site_name">
<meta content="Optimise your website JavaScript loading speed with defer" property="og:title">
<meta content="A simple way to optimise the websites loading speed by deferring javascript download" property="og:description">
<meta content="en_US" property="og:locale">
<meta content="https://www.andreagrandi.it/2020/10/15/optimise-website-javascript-loading-speed/" property="og:url"/>
<meta content="article" property="og:type"/>
<meta content="2020-10-15 20:00:00+02:00" property="article:published_time"/>
<meta content="" property="article:modified_time"/>
<meta content="https://www.andreagrandi.it/author/andrea-grandi.html" property="article:author"/>
<meta content="Development" property="article:section">
<meta content="optimisation" property="article:tag"/>
<meta content="optimise" property="article:tag"/>
<meta content="javascript" property="article:tag"/>
<meta content="js" property="article:tag"/>
<meta content="website" property="article:tag"/>
<meta content="web" property="article:tag"/>
<meta content="performance" property="article:tag"/>
<meta content="speed" property="article:tag"/>
<meta content="defer" property="article:tag"/>
<meta content="page" property="article:tag"/>
<meta content="fast" property="article:tag"/>
<meta content="loading" property="article:tag"/>
<meta content="webpage" property="article:tag"/>
<meta content="quicker" property="article:tag"/>
<meta content="/images/me_pycon_2019_2_300x300.jpg" property="og:image"/>
<title>Andrea Grandi – Optimise your website JavaScript loading speed with defer</title>
<link href="https://www.andreagrandi.it/2020/10/15/optimise-website-javascript-loading-speed/" rel="canonical">
<link href="https://mastodon.social/@andreagrandi" rel="me">
</link></link></meta></meta></meta></meta></meta></meta></meta></link><link href="https://www.andreagrandi.it/2020/10/15/optimise-website-javascript-loading-speed/" rel="canonical"/><script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Andrea Grandi", "item": "https://www.andreagrandi.it"}, {"@type": "ListItem", "position": 2, "name": "2020", "item": "https://www.andreagrandi.it/2020"}, {"@type": "ListItem", "position": 3, "name": "10", "item": "https://www.andreagrandi.it/2020/10"}, {"@type": "ListItem", "position": 4, "name": "15", "item": "https://www.andreagrandi.it/2020/10/15"}, {"@type": "ListItem", "position": 5, "name": "Optimise website javascript loading speed", "item": "https://www.andreagrandi.it/2020/10/15/optimise-website-javascript-loading-speed"}, {"@type": "ListItem", "position": 6, "name": "Index", "item": "https://www.andreagrandi.it/2020/10/15/optimise-website-javascript-loading-speed/index.html"}]}</script><script type="application/ld+json">{"@context": "https://schema.org", "@type": "Article", "author": {"@type": "Person", "name": "Andrea Grandi"}, "publisher": {"@type": "Organization", "name": "Andrea Grandi"}, "headline": "Optimise your website JavaScript loading speed with defer", "about": "Development", "datePublished": "2020-10-15 20:00"}</script></head>
<body class="light-theme">
<aside>
<div>
<a href="https://www.andreagrandi.it">
<img alt="Andrea Grandi" src="/images/me_pycon_2019_2_300x300.jpg" title="Andrea Grandi"/>
</a>
<h1>
<a href="https://www.andreagrandi.it">Andrea Grandi</a>
</h1>
<p>Software Developer</p>
<form action="/search.html" class="navbar-search" role="search">
<input id="tipue_search_input" name="q" placeholder="Search..." type="text"/>
</form>
<nav>
<ul class="list">
<li>
<a href="https://www.andreagrandi.it/about/" target="_self">
              About
            </a>
</li>
<li>
<a href="https://www.andreagrandi.it/curriculum/" target="_self">
              Curriculum
            </a>
</li>
<li>
<a href="https://www.andreagrandi.it/pgp-key/" target="_self">
              PGP Key
            </a>
</li>
</ul>
</nav>
<ul class="social">
<li>
<a class="sc-mastodon" href="https://mastodon.social/@andreagrandi" rel="me" target="_blank">
<i class="fab fa-mastodon"></i>
</a>
</li>
<li>
<a class="sc-github" href="https://github.com/andreagrandi" target="_blank">
<i class="fab fa-github"></i>
</a>
</li>
<li>
<a class="sc-linkedin" href="https://www.linkedin.com/in/andreagrandi/" target="_blank">
<i class="fab fa-linkedin"></i>
</a>
</li>
</ul>
</div>
<a href="https://tree-nation.com/profile/impact/andreagrandi#co2" style="position:relative;cursor:pointer;display:block;z-index:999;" target="_blank">
<img src="https://tree-nation.com/images/tracking/label-co2-website-white-en.png" style="width:157px;height:auto;"/>
</a>
<script src="https://tree-nation.com/js/track.js"></script>
<script>treenation_track("63a8beb06e6e6");</script>
</aside>
<main>
<nav>
<a href="https://www.andreagrandi.it">Home</a>
<a href="/archives.html">Archives</a>
<a href="/categories.html">Categories</a>
<a href="/tags.html">Tags</a>
<a href="https://www.andreagrandi.it/feeds/all.rss.xml">RSS</a>
</nav>
<article class="single">
<header>
<h1 id="optimise-website-javascript-loading-speed">Optimise your website JavaScript loading speed with defer</h1>
<p>
      Posted on Thu 15 October 2020 in <a href="https://www.andreagrandi.it/category/development.html">Development</a>
</p>
</header>
<div>
<p>When a client requests a web page, the browser begins to download the html page and parses it. If an external resource is found
it begins to request that resource in a parallel request. This means the the complete <strong>loading of the page may be delayed until all the external resources have been downloaded</strong>. On mobile or slow connections, this can be a problem.</p>
<p><a href=""><img alt="speed road" src="https://www.andreagrandi.it/images/2020/10/speed_road.jpg" width="60%"/></a></p>
<h2>The solution</h2>
<p>While it's not possible to fix all the external resources, there is an attribute called <code>defer</code> that when included in <code>&lt;script&gt; ... &lt;/script&gt;</code> sections, it will make sure that javascript files will be loaded <strong>after</strong> the main page has been loaded, resulting in a quicker download of the main content.</p>
<h3>Example</h3>
<p>If you have a script like this:</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">"https://www.andreagrandi.it/theme/tipuesearch/tipuesearch.min.js"</span> <span class="na">type</span><span class="o">=</span><span class="s">"5ea4254e9004c2f036fc9ad2-text/javascript"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>
<p>just add the <code>defer</code> attribute like this:</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">script</span> <span class="na">defer</span> <span class="na">src</span><span class="o">=</span><span class="s">"https://www.andreagrandi.it/theme/tipuesearch/tipuesearch.min.js"</span> <span class="na">type</span><span class="o">=</span><span class="s">"5ea4254e9004c2f036fc9ad2-text/javascript"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>
<h2>Compatibility</h2>
<p>Even if the <code>defer</code> option should be supported by the majority of the browsers, it's always better to double check which are the browsers not supporting it yet.
You can check the compatibility at this address: <a href="https://caniuse.com/script-defer">https://caniuse.com/script-defer</a></p>
<p><strong>Note:</strong> the <code>defer</code> attribute can't always be used in all the pages. When you need a script to be available before the page is completely rendered, you can't use it. You may have noticed that in this website I haven't deferred the loading of <code>jquery</code> library. For example, I don't know all the details, but I suppose it's necessary to load, parse and render the search results for Tipue Search. Infact if I defer the script, no search results will appear in my website.</p>
<h2>References</h2>
<ul>
<li><a href="https://flaviocopes.com/javascript-async-defer/#just-tell-me-the-best-way">https://flaviocopes.com/javascript-async-defer/#just-tell-me-the-best-way</a></li>
</ul>
</div>
<div class="tag-cloud">
<p>
<a href="https://www.andreagrandi.it/tag/optimisation.html">optimisation</a>
<a href="https://www.andreagrandi.it/tag/optimise.html">optimise</a>
<a href="https://www.andreagrandi.it/tag/javascript.html">javascript</a>
<a href="https://www.andreagrandi.it/tag/js.html">js</a>
<a href="https://www.andreagrandi.it/tag/website.html">website</a>
<a href="https://www.andreagrandi.it/tag/web.html">web</a>
<a href="https://www.andreagrandi.it/tag/performance.html">performance</a>
<a href="https://www.andreagrandi.it/tag/speed.html">speed</a>
<a href="https://www.andreagrandi.it/tag/defer.html">defer</a>
<a href="https://www.andreagrandi.it/tag/page.html">page</a>
<a href="https://www.andreagrandi.it/tag/fast.html">fast</a>
<a href="https://www.andreagrandi.it/tag/loading.html">loading</a>
<a href="https://www.andreagrandi.it/tag/webpage.html">webpage</a>
<a href="https://www.andreagrandi.it/tag/quicker.html">quicker</a>
</p>
</div>
<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'andrea-grandi-it';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
    Please enable JavaScript to view comments.
</noscript>
<!-- End Disqus -->
</article>
<footer>
<p>
  © 2024  - This work is licensed under a <a href="http://creativecommons.org/licenses/by-sa/4.0/" rel="license">Creative Commons Attribution-ShareAlike 4.0 International License</a>
</p>
<p>
  Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme - source code available on <a href="https://github.com/andreagrandi/andreagrandi.it" target="_blank">GitHub</a>
</p><p>
<a href="http://creativecommons.org/licenses/by-sa/4.0/" rel="license" target="_blank">
<img alt="Creative Commons License" height="15" src="/images/by-sa.png" style="border-width:0" title="Creative Commons License" width="80">
</img></a>
</p> </footer>
</main>
<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Andrea Grandi ",
  "url" : "https://www.andreagrandi.it",
  "image": "/images/me_pycon_2019_2_300x300.jpg",
  "description": ""
}
</script>
<script>
    $(document).ready(function () {
      $('#tipue_search_input').tipuesearch();
    });
  </script>
</body>
</html>