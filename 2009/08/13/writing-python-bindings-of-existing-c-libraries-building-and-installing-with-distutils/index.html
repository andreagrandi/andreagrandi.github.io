
<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="True" name="HandheldFriendly"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="" name="robots"/>
<link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&amp;family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&amp;display=swap" rel="stylesheet"/>
<link href="https://www.andreagrandi.it/theme/stylesheet/style.min.css" rel="stylesheet" type="text/css"/>
<link href="https://www.andreagrandi.it/theme/pygments/monokai.min.css" id="pygments-light-theme" rel="stylesheet" type="text/css"/>
<script src="https://www.andreagrandi.it/theme/tipuesearch/jquery.min.js"></script>
<script defer="" src="https://www.andreagrandi.it/theme/tipuesearch/tipuesearch.min.js"></script>
<script defer="" src="https://www.andreagrandi.it/theme/tipuesearch/tipuesearch_set.js"></script>
<script defer="" src="https://www.andreagrandi.it/tipuesearch_content.js"></script>
<link href="https://www.andreagrandi.it/theme/tipuesearch/tipuesearch.min.css" rel="stylesheet">
<link href="https://www.andreagrandi.it/theme/font-awesome/css/fontawesome.css" rel="stylesheet" type="text/css"/>
<link href="https://www.andreagrandi.it/theme/font-awesome/css/brands.css" rel="stylesheet" type="text/css"/>
<link href="https://www.andreagrandi.it/theme/font-awesome/css/solid.css" rel="stylesheet" type="text/css"/>
<link href="https://www.andreagrandi.it/feeds/all.rss.xml" rel="alternate" title="Andrea Grandi RSS" type="application/rss+xml"/>
<!-- Chrome, Firefox OS and Opera -->
<meta content="#333333" name="theme-color"/>
<!-- Windows Phone -->
<meta content="#333333" name="msapplication-navbutton-color"/>
<!-- iOS Safari -->
<meta content="yes" name="apple-mobile-web-app-capable"/>
<meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"/>
<!-- Microsoft EDGE -->
<meta content="#333333" name="msapplication-TileColor"/>
<meta content="Andrea Grandi" name="author">
<meta content="In the last post of this series, we saw how to write a simple binding and we finished to build and install it manually. This is of course not a good way to manage the building/installation procedure. In Python we can use a library called distutils that let us to automatize the building and installing process. I'll use the foo source code to create the package, so it will be easier to understand. Using distutils All we have to do is to write a setup.py file similar to this one: from distutils.core import setup, Extension foomodule = Extension('foo', sources = ['foo.c']) setup ( name = 'Foo', version = '1.0', description = 'This is a package for Foo', ext_modules = [foomodule] ) As you can see, we have to first import needed modules with: from distutils.core import setup, Extension then we create an entry for each module we have (in this case just one, &quot;foomodule&quot;). We then call the setup() method passing it all the parameters and our setup.py is complete. Building and installing To test it we can try to build the package in this way: python2.5 setup.py build if we want to install the module in our system: python2.5 setup.py install References Official Python documentation: http://docs.python.org/extending/building.html" name="description">
<meta content="binding, distutils, library, maemo, Python, setup" name="keywords"/>
<meta content="Andrea Grandi" property="og:site_name">
<meta content="Writing Python bindings of existing C libraries – (3) – Building and Installing with distutils" property="og:title">
<meta content="In the last post of this series, we saw how to write a simple binding and we finished to build and install it manually. This is of course not a good way to manage the building/installation procedure. In Python we can use a library called distutils that let us to automatize the building and installing process. I'll use the foo source code to create the package, so it will be easier to understand. Using distutils All we have to do is to write a setup.py file similar to this one: from distutils.core import setup, Extension foomodule = Extension('foo', sources = ['foo.c']) setup ( name = 'Foo', version = '1.0', description = 'This is a package for Foo', ext_modules = [foomodule] ) As you can see, we have to first import needed modules with: from distutils.core import setup, Extension then we create an entry for each module we have (in this case just one, &quot;foomodule&quot;). We then call the setup() method passing it all the parameters and our setup.py is complete. Building and installing To test it we can try to build the package in this way: python2.5 setup.py build if we want to install the module in our system: python2.5 setup.py install References Official Python documentation: http://docs.python.org/extending/building.html" property="og:description">
<meta content="en_US" property="og:locale">
<meta content="https://www.andreagrandi.it/2009/08/13/writing-python-bindings-of-existing-c-libraries-building-and-installing-with-distutils/" property="og:url"/>
<meta content="article" property="og:type"/>
<meta content="2009-08-13 10:39:00+02:00" property="article:published_time"/>
<meta content="" property="article:modified_time"/>
<meta content="https://www.andreagrandi.it/author/andrea-grandi.html" property="article:author"/>
<meta content="HowTo, Igalia, Linux, Maemo (EN), Programmazione, Python" property="article:section">
<meta content="binding" property="article:tag"/>
<meta content="distutils" property="article:tag"/>
<meta content="library" property="article:tag"/>
<meta content="maemo" property="article:tag"/>
<meta content="Python" property="article:tag"/>
<meta content="setup" property="article:tag"/>
<meta content="/images/me_pycon_2019_2_300x300.jpg" property="og:image"/>
<title>Andrea Grandi – Writing Python bindings of existing C libraries – (3) – Building and Installing with distutils</title>
<link href="https://www.andreagrandi.it/2009/08/13/writing-python-bindings-of-existing-c-libraries-building-and-installing-with-distutils/" rel="canonical">
<link href="https://mastodon.social/@andreagrandi" rel="me">
</link></link></meta></meta></meta></meta></meta></meta></meta></link><link href="https://www.andreagrandi.it/2009/08/13/writing-python-bindings-of-existing-c-libraries-building-and-installing-with-distutils/" rel="canonical"/><script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Andrea Grandi", "item": "https://www.andreagrandi.it"}, {"@type": "ListItem", "position": 2, "name": "2009", "item": "https://www.andreagrandi.it/2009"}, {"@type": "ListItem", "position": 3, "name": "08", "item": "https://www.andreagrandi.it/2009/08"}, {"@type": "ListItem", "position": 4, "name": "13", "item": "https://www.andreagrandi.it/2009/08/13"}, {"@type": "ListItem", "position": 5, "name": "Writing python bindings of existing c libraries building and installing with distutils", "item": "https://www.andreagrandi.it/2009/08/13/writing-python-bindings-of-existing-c-libraries-building-and-installing-with-distutils"}, {"@type": "ListItem", "position": 6, "name": "Index", "item": "https://www.andreagrandi.it/2009/08/13/writing-python-bindings-of-existing-c-libraries-building-and-installing-with-distutils/index.html"}]}</script><script type="application/ld+json">{"@context": "https://schema.org", "@type": "Article", "author": {"@type": "Person", "name": "Andrea Grandi"}, "publisher": {"@type": "Organization", "name": "Andrea Grandi"}, "headline": "Writing Python bindings of existing C libraries – (3) – Building and Installing with distutils", "about": "HowTo, Igalia, Linux, Maemo (EN), Programmazione, Python", "datePublished": "2009-08-13 10:39"}</script></head>
<body class="light-theme">
<aside>
<div>
<a href="https://www.andreagrandi.it">
<img alt="Andrea Grandi" src="/images/me_pycon_2019_2_300x300.jpg" title="Andrea Grandi"/>
</a>
<h1>
<a href="https://www.andreagrandi.it">Andrea Grandi</a>
</h1>
<p>Software Developer</p>
<form action="/search.html" class="navbar-search" role="search">
<input id="tipue_search_input" name="q" placeholder="Search..." type="text"/>
</form>
<nav>
<ul class="list">
<li>
<a href="https://www.andreagrandi.it/about/" target="_self">
              About
            </a>
</li>
<li>
<a href="https://www.andreagrandi.it/curriculum/" target="_self">
              Curriculum
            </a>
</li>
<li>
<a href="https://www.andreagrandi.it/pgp-key/" target="_self">
              PGP Key
            </a>
</li>
</ul>
</nav>
<ul class="social">
<li>
<a class="sc-mastodon" href="https://mastodon.social/@andreagrandi" rel="me" target="_blank">
<i class="fab fa-mastodon"></i>
</a>
</li>
<li>
<a class="sc-github" href="https://github.com/andreagrandi" target="_blank">
<i class="fab fa-github"></i>
</a>
</li>
<li>
<a class="sc-linkedin" href="https://www.linkedin.com/in/andreagrandi/" target="_blank">
<i class="fab fa-linkedin"></i>
</a>
</li>
</ul>
</div>
<a href="https://tree-nation.com/profile/impact/andreagrandi#co2" style="position:relative;cursor:pointer;display:block;z-index:999;" target="_blank">
<img src="https://tree-nation.com/images/tracking/label-co2-website-white-en.png" style="width:157px;height:auto;"/>
</a>
<script src="https://tree-nation.com/js/track.js"></script>
<script>treenation_track("63a8beb06e6e6");</script>
</aside>
<main>
<nav>
<a href="https://www.andreagrandi.it">Home</a>
<a href="/archives.html">Archives</a>
<a href="/categories.html">Categories</a>
<a href="/tags.html">Tags</a>
<a href="https://www.andreagrandi.it/feeds/all.rss.xml">RSS</a>
</nav>
<article class="single">
<header>
<h1 id="writing-python-bindings-of-existing-c-libraries-building-and-installing-with-distutils">Writing Python bindings of existing C libraries – (3) – Building and Installing with distutils</h1>
<p>
      Posted on Thu 13 August 2009 in <a href="https://www.andreagrandi.it/category/howto-igalia-linux-maemo-en-programmazione-python.html">HowTo, Igalia, Linux, Maemo (EN), Programmazione, Python</a>
</p>
</header>
<div>
<p>In the last post of this series, we saw how to write a simple binding
and we finished to build and install it manually. This is of course not
a good way to manage the building/installation procedure.</p>
<p>In Python we can use a library called <strong>distutils</strong> that let us to
automatize the building and installing process. I'll use the <strong>foo</strong>
source code to create the package, so it will be easier to understand.</p>
<h2>Using distutils</h2>
<p>All we have to do is to write a <strong>setup.py</strong> file similar to this one:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">distutils.core</span> <span class="kn">import</span> <span class="n">setup</span><span class="p">,</span> <span class="n">Extension</span>

<span class="n">foomodule</span> <span class="o">=</span> <span class="n">Extension</span><span class="p">(</span><span class="s1">'foo'</span><span class="p">,</span> <span class="n">sources</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'foo.c'</span><span class="p">])</span>

<span class="n">setup</span> <span class="p">(</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s1">'Foo'</span><span class="p">,</span>
    <span class="n">version</span> <span class="o">=</span> <span class="s1">'1.0'</span><span class="p">,</span>  
    <span class="n">description</span> <span class="o">=</span> <span class="s1">'This is a package for Foo'</span><span class="p">,</span>  
    <span class="n">ext_modules</span> <span class="o">=</span> <span class="p">[</span><span class="n">foomodule</span><span class="p">]</span>
<span class="p">)</span>
</code></pre></div>
<p>As you can see, we have to first import needed modules with: <strong>from
distutils.core import setup, Extension</strong><br/>
then we create an entry for each module we have (in this case just one,
"foomodule"). We then call the <strong>setup()</strong> method passing it all the
parameters and our <strong>setup.py</strong> is complete.</p>
<h2>Building and installing</h2>
<p>To test it we can try to build the package in this way:</p>
<div class="highlight"><pre><span></span><code>python2.5<span class="w"> </span>setup.py<span class="w"> </span>build
</code></pre></div>
<p>if we want to install the module in our system:</p>
<div class="highlight"><pre><span></span><code>python2.5<span class="w"> </span>setup.py<span class="w"> </span>install
</code></pre></div>
<h2>References</h2>
<ul>
<li>Official Python documentation: <a href="http://docs.python.org/extending/building.html">http://docs.python.org/extending/building.html</a></li>
</ul>
</div>
<div class="tag-cloud">
<p>
<a href="https://www.andreagrandi.it/tag/binding.html">binding</a>
<a href="https://www.andreagrandi.it/tag/distutils.html">distutils</a>
<a href="https://www.andreagrandi.it/tag/library.html">library</a>
<a href="https://www.andreagrandi.it/tag/maemo.html">maemo</a>
<a href="https://www.andreagrandi.it/tag/python.html">Python</a>
<a href="https://www.andreagrandi.it/tag/setup.html">setup</a>
</p>
</div>
<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'andrea-grandi-it';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
    Please enable JavaScript to view comments.
</noscript>
<!-- End Disqus -->
</article>
<footer>
<p>
  © 2024  - This work is licensed under a <a href="http://creativecommons.org/licenses/by-sa/4.0/" rel="license">Creative Commons Attribution-ShareAlike 4.0 International License</a>
</p>
<p>
  Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme - source code available on <a href="https://github.com/andreagrandi/andreagrandi.it" target="_blank">GitHub</a>
</p><p>
<a href="http://creativecommons.org/licenses/by-sa/4.0/" rel="license" target="_blank">
<img alt="Creative Commons License" height="15" src="/images/by-sa.png" style="border-width:0" title="Creative Commons License" width="80">
</img></a>
</p> </footer>
</main>
<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Andrea Grandi ",
  "url" : "https://www.andreagrandi.it",
  "image": "/images/me_pycon_2019_2_300x300.jpg",
  "description": ""
}
</script>
<script>
    $(document).ready(function () {
      $('#tipue_search_input').tipuesearch();
    });
  </script>
</body>
</html>