
<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="True" name="HandheldFriendly"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="" name="robots"/>
<link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&amp;family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&amp;display=swap" rel="stylesheet"/>
<link href="https://www.andreagrandi.it/theme/stylesheet/style.min.css" rel="stylesheet" type="text/css"/>
<link href="https://www.andreagrandi.it/theme/pygments/monokai.min.css" id="pygments-light-theme" rel="stylesheet" type="text/css"/>
<script src="https://www.andreagrandi.it/theme/tipuesearch/jquery.min.js"></script>
<script defer="" src="https://www.andreagrandi.it/theme/tipuesearch/tipuesearch.min.js"></script>
<script defer="" src="https://www.andreagrandi.it/theme/tipuesearch/tipuesearch_set.js"></script>
<script defer="" src="https://www.andreagrandi.it/tipuesearch_content.js"></script>
<link href="https://www.andreagrandi.it/theme/tipuesearch/tipuesearch.min.css" rel="stylesheet">
<link href="https://www.andreagrandi.it/theme/font-awesome/css/fontawesome.css" rel="stylesheet" type="text/css"/>
<link href="https://www.andreagrandi.it/theme/font-awesome/css/brands.css" rel="stylesheet" type="text/css"/>
<link href="https://www.andreagrandi.it/theme/font-awesome/css/solid.css" rel="stylesheet" type="text/css"/>
<link href="https://www.andreagrandi.it/feeds/all.rss.xml" rel="alternate" title="Andrea Grandi RSS" type="application/rss+xml"/>
<!-- Chrome, Firefox OS and Opera -->
<meta content="#333333" name="theme-color"/>
<!-- Windows Phone -->
<meta content="#333333" name="msapplication-navbutton-color"/>
<!-- iOS Safari -->
<meta content="yes" name="apple-mobile-web-app-capable"/>
<meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"/>
<!-- Microsoft EDGE -->
<meta content="#333333" name="msapplication-TileColor"/>
<meta content="Andrea Grandi" name="author">
<meta content="When we need to create an EC2 resource on AWS using Terraform, we need to specify the AMI id to get the correct image. The id is not easy to memorise and it changes depending on the zone we are working one. On every new release the id changes again. So, how can we be sure to get the correct ID for our region, of the latest image available for a given Linux distribution? Getting latest Ubuntu AMI id In this example I will show how to get the ID for the latest version of Ubuntu 16.04 server, for the London region and create an EC2 instance using that ID. variable &quot;aws_region&quot; { default = &quot;eu-west-2&quot; } # London provider &quot;aws&quot; { region = &quot;${var.aws_region}&quot; access_key = &quot;youraccesskey&quot; secret_key = &quot;yoursecretkey&quot; } data &quot;aws_ami&quot; &quot;ubuntu&quot; { most_recent = true filter { name = &quot;name&quot; values = [&quot;ubuntu/images/hvm-ssd/ubuntu-xenial-16.04-amd64-server-*&quot;] } filter { name = &quot;virtualization-type&quot; values = [&quot;hvm&quot;] } owners = [&quot;099720109477&quot;] # Canonical } resource &quot;aws_instance&quot; &quot;web&quot; { ami = &quot;${data.aws_ami.ubuntu.id}&quot; instance_type = &quot;t2.micro&quot; tags { Name = &quot;HelloUbuntu&quot; } } output &quot;image_id&quot; { value = &quot;${data.aws_ami.ubuntu.id}&quot; } After we have initialised our script using terraform init if we run it, we will get the AMI id and the instance will be created: ➜ example1$: terraform apply data.aws_ami.ubuntu: Refreshing state... aws_instance.web: Creating... ami: &quot;&quot; =&gt; &quot;ami-03998867&quot; associate_public_ip_address: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; availability_zone: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; ebs_block_device.#: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; ephemeral_block_device.#: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; instance_state: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; instance_type: &quot;&quot; =&gt; &quot;t2.micro&quot; ipv6_address_count: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; ipv6_addresses.#: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; key_name: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; network_interface.#: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; network_interface_id: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; placement_group: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; primary_network_interface_id: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; private_dns: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; private_ip: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; public_dns: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; public_ip: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; root_block_device.#: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; security_groups.#: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; source_dest_check: &quot;&quot; =&gt; &quot;true&quot; subnet_id: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; tags.%: &quot;&quot; =&gt; &quot;1&quot; tags.Name: &quot;&quot; =&gt; &quot;HelloUbuntu&quot; tenancy: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; volume_tags.%: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; vpc_security_group_ids.#: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; aws_instance.web: Still creating... (10s elapsed) aws_instance.web: Still creating... (20s elapsed) aws_instance.web: Still creating... (30s elapsed) aws_instance.web: Creation complete (ID: i-0f58f8bd55b3a7e38) Apply complete! Resources: 1 added, 0 changed, 0 destroyed. Outputs: image_id = ami-03998867 That's all we need to spin up an EC2 instance on AWS using latest Ubuntu image available." name="description">
<meta content="AWS, Terraform, Ubuntu, devops" name="keywords"/>
<meta content="Andrea Grandi" property="og:site_name">
<meta content="Getting latest Ubuntu AMI with Terraform" property="og:title">
<meta content="When we need to create an EC2 resource on AWS using Terraform, we need to specify the AMI id to get the correct image. The id is not easy to memorise and it changes depending on the zone we are working one. On every new release the id changes again. So, how can we be sure to get the correct ID for our region, of the latest image available for a given Linux distribution? Getting latest Ubuntu AMI id In this example I will show how to get the ID for the latest version of Ubuntu 16.04 server, for the London region and create an EC2 instance using that ID. variable &quot;aws_region&quot; { default = &quot;eu-west-2&quot; } # London provider &quot;aws&quot; { region = &quot;${var.aws_region}&quot; access_key = &quot;youraccesskey&quot; secret_key = &quot;yoursecretkey&quot; } data &quot;aws_ami&quot; &quot;ubuntu&quot; { most_recent = true filter { name = &quot;name&quot; values = [&quot;ubuntu/images/hvm-ssd/ubuntu-xenial-16.04-amd64-server-*&quot;] } filter { name = &quot;virtualization-type&quot; values = [&quot;hvm&quot;] } owners = [&quot;099720109477&quot;] # Canonical } resource &quot;aws_instance&quot; &quot;web&quot; { ami = &quot;${data.aws_ami.ubuntu.id}&quot; instance_type = &quot;t2.micro&quot; tags { Name = &quot;HelloUbuntu&quot; } } output &quot;image_id&quot; { value = &quot;${data.aws_ami.ubuntu.id}&quot; } After we have initialised our script using terraform init if we run it, we will get the AMI id and the instance will be created: ➜ example1$: terraform apply data.aws_ami.ubuntu: Refreshing state... aws_instance.web: Creating... ami: &quot;&quot; =&gt; &quot;ami-03998867&quot; associate_public_ip_address: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; availability_zone: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; ebs_block_device.#: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; ephemeral_block_device.#: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; instance_state: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; instance_type: &quot;&quot; =&gt; &quot;t2.micro&quot; ipv6_address_count: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; ipv6_addresses.#: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; key_name: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; network_interface.#: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; network_interface_id: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; placement_group: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; primary_network_interface_id: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; private_dns: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; private_ip: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; public_dns: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; public_ip: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; root_block_device.#: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; security_groups.#: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; source_dest_check: &quot;&quot; =&gt; &quot;true&quot; subnet_id: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; tags.%: &quot;&quot; =&gt; &quot;1&quot; tags.Name: &quot;&quot; =&gt; &quot;HelloUbuntu&quot; tenancy: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; volume_tags.%: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; vpc_security_group_ids.#: &quot;&quot; =&gt; &quot;&lt;computed&gt;&quot; aws_instance.web: Still creating... (10s elapsed) aws_instance.web: Still creating... (20s elapsed) aws_instance.web: Still creating... (30s elapsed) aws_instance.web: Creation complete (ID: i-0f58f8bd55b3a7e38) Apply complete! Resources: 1 added, 0 changed, 0 destroyed. Outputs: image_id = ami-03998867 That's all we need to spin up an EC2 instance on AWS using latest Ubuntu image available." property="og:description">
<meta content="en_US" property="og:locale">
<meta content="https://www.andreagrandi.it/2017/08/25/getting-latest-ubuntu-ami-with-terraform/" property="og:url"/>
<meta content="article" property="og:type"/>
<meta content="2017-08-25 11:00:00+02:00" property="article:published_time"/>
<meta content="" property="article:modified_time"/>
<meta content="https://www.andreagrandi.it/author/andrea-grandi.html" property="article:author"/>
<meta content="Development" property="article:section">
<meta content="AWS" property="article:tag"/>
<meta content="Terraform" property="article:tag"/>
<meta content="Ubuntu" property="article:tag"/>
<meta content="devops" property="article:tag"/>
<meta content="/images/me_pycon_2019_2_300x300.jpg" property="og:image"/>
<title>Andrea Grandi – Getting latest Ubuntu AMI with Terraform</title>
<link href="https://www.andreagrandi.it/2017/08/25/getting-latest-ubuntu-ami-with-terraform/" rel="canonical">
<link href="https://mastodon.social/@andreagrandi" rel="me">
</link></link></meta></meta></meta></meta></meta></meta></meta></link><link href="https://www.andreagrandi.it/2017/08/25/getting-latest-ubuntu-ami-with-terraform/" rel="canonical"/><script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Andrea Grandi", "item": "https://www.andreagrandi.it"}, {"@type": "ListItem", "position": 2, "name": "2017", "item": "https://www.andreagrandi.it/2017"}, {"@type": "ListItem", "position": 3, "name": "08", "item": "https://www.andreagrandi.it/2017/08"}, {"@type": "ListItem", "position": 4, "name": "25", "item": "https://www.andreagrandi.it/2017/08/25"}, {"@type": "ListItem", "position": 5, "name": "Getting latest ubuntu ami with terraform", "item": "https://www.andreagrandi.it/2017/08/25/getting-latest-ubuntu-ami-with-terraform"}, {"@type": "ListItem", "position": 6, "name": "Index", "item": "https://www.andreagrandi.it/2017/08/25/getting-latest-ubuntu-ami-with-terraform/index.html"}]}</script><script type="application/ld+json">{"@context": "https://schema.org", "@type": "Article", "author": {"@type": "Person", "name": "Andrea Grandi"}, "publisher": {"@type": "Organization", "name": "Andrea Grandi"}, "headline": "Getting latest Ubuntu AMI with Terraform", "about": "Development", "datePublished": "2017-08-25 11:00"}</script></head>
<body class="light-theme">
<aside>
<div>
<a href="https://www.andreagrandi.it">
<img alt="Andrea Grandi" src="/images/me_pycon_2019_2_300x300.jpg" title="Andrea Grandi"/>
</a>
<h1>
<a href="https://www.andreagrandi.it">Andrea Grandi</a>
</h1>
<p>Software Developer</p>
<form action="/search.html" class="navbar-search" role="search">
<input id="tipue_search_input" name="q" placeholder="Search..." type="text"/>
</form>
<nav>
<ul class="list">
<li>
<a href="https://www.andreagrandi.it/about/" target="_self">
              About
            </a>
</li>
<li>
<a href="https://www.andreagrandi.it/curriculum/" target="_self">
              Curriculum
            </a>
</li>
<li>
<a href="https://www.andreagrandi.it/pgp-key/" target="_self">
              PGP Key
            </a>
</li>
</ul>
</nav>
<ul class="social">
<li>
<a class="sc-mastodon" href="https://mastodon.social/@andreagrandi" rel="me" target="_blank">
<i class="fab fa-mastodon"></i>
</a>
</li>
<li>
<a class="sc-github" href="https://github.com/andreagrandi" target="_blank">
<i class="fab fa-github"></i>
</a>
</li>
<li>
<a class="sc-linkedin" href="https://www.linkedin.com/in/andreagrandi/" target="_blank">
<i class="fab fa-linkedin"></i>
</a>
</li>
</ul>
</div>
<a href="https://tree-nation.com/profile/impact/andreagrandi#co2" style="position:relative;cursor:pointer;display:block;z-index:999;" target="_blank">
<img src="https://tree-nation.com/images/tracking/label-co2-website-white-en.png" style="width:157px;height:auto;"/>
</a>
<script src="https://tree-nation.com/js/track.js"></script>
<script>treenation_track("63a8beb06e6e6");</script>
</aside>
<main>
<nav>
<a href="https://www.andreagrandi.it">Home</a>
<a href="/archives.html">Archives</a>
<a href="/categories.html">Categories</a>
<a href="/tags.html">Tags</a>
<a href="https://www.andreagrandi.it/feeds/all.rss.xml">RSS</a>
</nav>
<article class="single">
<header>
<h1 id="getting-latest-ubuntu-ami-with-terraform">Getting latest Ubuntu AMI with Terraform</h1>
<p>
      Posted on Fri 25 August 2017 in <a href="https://www.andreagrandi.it/category/development.html">Development</a>
</p>
</header>
<div>
<p>When we need to create an EC2 resource on AWS using Terraform, we need to specify the AMI id to get the correct image.
The id is not easy to memorise and it changes depending on the zone we are working one. On every new release the id changes again.
So, how can we be sure to get the correct ID for our region, of the latest image available for a given Linux distribution?</p>
<h3>Getting latest Ubuntu AMI id</h3>
<p>In this example I will show how to get the ID for the latest version of Ubuntu 16.04 server, for the London region and create an EC2 instance using that ID.</p>
<div class="highlight"><pre><span></span><code><span class="kr">variable</span><span class="w"> </span><span class="nv">"aws_region"</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="na">default</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"eu-west-2"</span><span class="w"> </span><span class="p">}</span><span class="c1"> # London</span>

<span class="kr">provider</span><span class="w"> </span><span class="nv">"aws"</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="na">region</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"${var.aws_region}"</span>
<span class="w">    </span><span class="na">access_key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"youraccesskey"</span>
<span class="w">    </span><span class="na">secret_key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"yoursecretkey"</span>
<span class="p">}</span>

<span class="kr">data</span><span class="w"> </span><span class="nc">"aws_ami"</span><span class="w"> </span><span class="nv">"ubuntu"</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="na">most_recent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span>

<span class="w">    </span><span class="nb">filter</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="na">name</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"name"</span>
<span class="w">        </span><span class="na">values</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"ubuntu/images/hvm-ssd/ubuntu-xenial-16.04-amd64-server-*"</span><span class="p">]</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nb">filter</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="na">name</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"virtualization-type"</span>
<span class="w">        </span><span class="na">values</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"hvm"</span><span class="p">]</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="na">owners</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"099720109477"</span><span class="p">]</span><span class="c1"> # Canonical</span>
<span class="p">}</span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_instance"</span><span class="w"> </span><span class="nv">"web"</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="na">ami</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s2">"${data.aws_ami.ubuntu.id}"</span>
<span class="w">    </span><span class="na">instance_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"t2.micro"</span>

<span class="w">    </span><span class="nb">tags</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="na">Name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"HelloUbuntu"</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kr">output</span><span class="w"> </span><span class="nv">"image_id"</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"${data.aws_ami.ubuntu.id}"</span>
<span class="p">}</span>
</code></pre></div>
<p>After we have initialised our script using <strong>terraform init</strong> if we run it, we will get the AMI id and the instance will be created:</p>
<div class="highlight"><pre><span></span><code><span class="err">➜</span><span class="w">  </span><span class="nx">example1</span><span class="err">$</span><span class="p">:</span><span class="w"> </span><span class="nx">terraform</span><span class="w"> </span><span class="nx">apply</span>
<span class="nx">data</span><span class="p">.</span><span class="nx">aws_ami</span><span class="p">.</span><span class="nx">ubuntu</span><span class="p">:</span><span class="w"> </span><span class="nx">Refreshing</span><span class="w"> </span><span class="nx">state</span><span class="o">...</span>
<span class="nx">aws_instance</span><span class="p">.</span><span class="nx">web</span><span class="p">:</span><span class="w"> </span><span class="nx">Creating</span><span class="o">...</span>
<span class="w">    </span><span class="nx">ami</span><span class="p">:</span><span class="w">                          </span><span class="s">""</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">"ami-03998867"</span>
<span class="w">    </span><span class="nx">associate_public_ip_address</span><span class="p">:</span><span class="w">  </span><span class="s">""</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">"&lt;computed&gt;"</span>
<span class="w">    </span><span class="nx">availability_zone</span><span class="p">:</span><span class="w">            </span><span class="s">""</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">"&lt;computed&gt;"</span>
<span class="w">    </span><span class="nx">ebs_block_device</span><span class="p">.</span><span class="err">#</span><span class="p">:</span><span class="w">           </span><span class="s">""</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">"&lt;computed&gt;"</span>
<span class="w">    </span><span class="nx">ephemeral_block_device</span><span class="p">.</span><span class="err">#</span><span class="p">:</span><span class="w">     </span><span class="s">""</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">"&lt;computed&gt;"</span>
<span class="w">    </span><span class="nx">instance_state</span><span class="p">:</span><span class="w">               </span><span class="s">""</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">"&lt;computed&gt;"</span>
<span class="w">    </span><span class="nx">instance_type</span><span class="p">:</span><span class="w">                </span><span class="s">""</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">"t2.micro"</span>
<span class="w">    </span><span class="nx">ipv6_address_count</span><span class="p">:</span><span class="w">           </span><span class="s">""</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">"&lt;computed&gt;"</span>
<span class="w">    </span><span class="nx">ipv6_addresses</span><span class="p">.</span><span class="err">#</span><span class="p">:</span><span class="w">             </span><span class="s">""</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">"&lt;computed&gt;"</span>
<span class="w">    </span><span class="nx">key_name</span><span class="p">:</span><span class="w">                     </span><span class="s">""</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">"&lt;computed&gt;"</span>
<span class="w">    </span><span class="nx">network_interface</span><span class="p">.</span><span class="err">#</span><span class="p">:</span><span class="w">          </span><span class="s">""</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">"&lt;computed&gt;"</span>
<span class="w">    </span><span class="nx">network_interface_id</span><span class="p">:</span><span class="w">         </span><span class="s">""</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">"&lt;computed&gt;"</span>
<span class="w">    </span><span class="nx">placement_group</span><span class="p">:</span><span class="w">              </span><span class="s">""</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">"&lt;computed&gt;"</span>
<span class="w">    </span><span class="nx">primary_network_interface_id</span><span class="p">:</span><span class="w"> </span><span class="s">""</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">"&lt;computed&gt;"</span>
<span class="w">    </span><span class="nx">private_dns</span><span class="p">:</span><span class="w">                  </span><span class="s">""</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">"&lt;computed&gt;"</span>
<span class="w">    </span><span class="nx">private_ip</span><span class="p">:</span><span class="w">                   </span><span class="s">""</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">"&lt;computed&gt;"</span>
<span class="w">    </span><span class="nx">public_dns</span><span class="p">:</span><span class="w">                   </span><span class="s">""</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">"&lt;computed&gt;"</span>
<span class="w">    </span><span class="nx">public_ip</span><span class="p">:</span><span class="w">                    </span><span class="s">""</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">"&lt;computed&gt;"</span>
<span class="w">    </span><span class="nx">root_block_device</span><span class="p">.</span><span class="err">#</span><span class="p">:</span><span class="w">          </span><span class="s">""</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">"&lt;computed&gt;"</span>
<span class="w">    </span><span class="nx">security_groups</span><span class="p">.</span><span class="err">#</span><span class="p">:</span><span class="w">            </span><span class="s">""</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">"&lt;computed&gt;"</span>
<span class="w">    </span><span class="nx">source_dest_check</span><span class="p">:</span><span class="w">            </span><span class="s">""</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">"true"</span>
<span class="w">    </span><span class="nx">subnet_id</span><span class="p">:</span><span class="w">                    </span><span class="s">""</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">"&lt;computed&gt;"</span>
<span class="w">    </span><span class="nx">tags</span><span class="p">.</span><span class="o">%</span><span class="p">:</span><span class="w">                       </span><span class="s">""</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">"1"</span>
<span class="w">    </span><span class="nx">tags</span><span class="p">.</span><span class="nx">Name</span><span class="p">:</span><span class="w">                    </span><span class="s">""</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">"HelloUbuntu"</span>
<span class="w">    </span><span class="nx">tenancy</span><span class="p">:</span><span class="w">                      </span><span class="s">""</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">"&lt;computed&gt;"</span>
<span class="w">    </span><span class="nx">volume_tags</span><span class="p">.</span><span class="o">%</span><span class="p">:</span><span class="w">                </span><span class="s">""</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">"&lt;computed&gt;"</span>
<span class="w">    </span><span class="nx">vpc_security_group_ids</span><span class="p">.</span><span class="err">#</span><span class="p">:</span><span class="w">     </span><span class="s">""</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">"&lt;computed&gt;"</span>
<span class="nx">aws_instance</span><span class="p">.</span><span class="nx">web</span><span class="p">:</span><span class="w"> </span><span class="nx">Still</span><span class="w"> </span><span class="nx">creating</span><span class="o">...</span><span class="w"> </span><span class="p">(</span><span class="mi">10</span><span class="nx">s</span><span class="w"> </span><span class="nx">elapsed</span><span class="p">)</span>
<span class="nx">aws_instance</span><span class="p">.</span><span class="nx">web</span><span class="p">:</span><span class="w"> </span><span class="nx">Still</span><span class="w"> </span><span class="nx">creating</span><span class="o">...</span><span class="w"> </span><span class="p">(</span><span class="mi">20</span><span class="nx">s</span><span class="w"> </span><span class="nx">elapsed</span><span class="p">)</span>
<span class="nx">aws_instance</span><span class="p">.</span><span class="nx">web</span><span class="p">:</span><span class="w"> </span><span class="nx">Still</span><span class="w"> </span><span class="nx">creating</span><span class="o">...</span><span class="w"> </span><span class="p">(</span><span class="mi">30</span><span class="nx">s</span><span class="w"> </span><span class="nx">elapsed</span><span class="p">)</span>
<span class="nx">aws_instance</span><span class="p">.</span><span class="nx">web</span><span class="p">:</span><span class="w"> </span><span class="nx">Creation</span><span class="w"> </span><span class="nx">complete</span><span class="w"> </span><span class="p">(</span><span class="nx">ID</span><span class="p">:</span><span class="w"> </span><span class="nx">i</span><span class="o">-</span><span class="mi">0</span><span class="nx">f58f8bd55b3a7e38</span><span class="p">)</span>

<span class="nx">Apply</span><span class="w"> </span><span class="nx">complete</span><span class="p">!</span><span class="w"> </span><span class="nx">Resources</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nx">added</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="nx">changed</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="nx">destroyed</span><span class="p">.</span>

<span class="nx">Outputs</span><span class="p">:</span>

<span class="nx">image_id</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">ami</span><span class="o">-</span><span class="mi">03998867</span>
</code></pre></div>
<p>That's all we need to spin up an EC2 instance on AWS using latest Ubuntu image available.</p>
</div>
<div class="tag-cloud">
<p>
<a href="https://www.andreagrandi.it/tag/aws.html">AWS</a>
<a href="https://www.andreagrandi.it/tag/terraform.html">Terraform</a>
<a href="https://www.andreagrandi.it/tag/ubuntu.html">Ubuntu</a>
<a href="https://www.andreagrandi.it/tag/devops.html">devops</a>
</p>
</div>
<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'andrea-grandi-it';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
    Please enable JavaScript to view comments.
</noscript>
<!-- End Disqus -->
</article>
<footer>
<p>
  © 2024  - This work is licensed under a <a href="http://creativecommons.org/licenses/by-sa/4.0/" rel="license">Creative Commons Attribution-ShareAlike 4.0 International License</a>
</p>
<p>
  Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme - source code available on <a href="https://github.com/andreagrandi/andreagrandi.it" target="_blank">GitHub</a>
</p><p>
<a href="http://creativecommons.org/licenses/by-sa/4.0/" rel="license" target="_blank">
<img alt="Creative Commons License" height="15" src="/images/by-sa.png" style="border-width:0" title="Creative Commons License" width="80">
</img></a>
</p> </footer>
</main>
<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Andrea Grandi ",
  "url" : "https://www.andreagrandi.it",
  "image": "/images/me_pycon_2019_2_300x300.jpg",
  "description": ""
}
</script>
<script>
    $(document).ready(function () {
      $('#tipue_search_input').tipuesearch();
    });
  </script>
</body>
</html>